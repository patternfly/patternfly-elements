<form id="basic">
  <fieldset>
    <legend>No flip</legend>
    <pf-popover heading="Popover heading"
                body="Popovers are triggered by click rather than hover."
                footer="Popover footer"
                no-flip>
      <pf-button>Toggle popover</pf-button>
    </pf-popover>
  </fieldset>

  <fieldset>
    <legend>Flip fallback</legend>
    <label>
      Popover positions
      <select id="position-select">
        <option value="top">top</option>
        <option value="right">right</option>
        <option value="bottom">bottom</option>
        <option value="left">left</option>
        <option value="top-start">top-start</option>
        <option value="top-end">top-end</option>
        <option value="right-start">right-start</option>
        <option value="right-end">right-end</option>
        <option value="bottom-start">bottom-start</option>
        <option value="bottom-end">bottom-end</option>
        <option value="left-start">left-start</option>
        <option value="left-end">left-end</option>
      </select>
    </label>
    <pf-popover heading="Popover heading"
                body="Popovers are triggered by click rather than hover."
                footer="Popover footer"
                no-outside-click>
      <pf-button>Toggle popover</pf-button>
    </pf-popover>
  </fieldset>
</form>

<script type="module">
  import '@patternfly/elements/pf-popover/pf-popover.js';
  import '@patternfly/elements/pf-button/pf-button.js';
  import '@patternfly/elements/pf-icon/pf-icon.js';

  // Positions
  const select = document.getElementById('position-select');
  select.addEventListener('change', event =>
    event.target
      .closest('fieldset')
      .querySelector('pf-popover')
      .setAttribute('position', event.target.value));

  // Close popover from content
  const closeButton = document.getElementById('close-button');
  closeButton?.addEventListener('click', event => event.target.closest('pf-popover').hide());

  // Alert variants
  const alert = document.getElementById('alert');
  alert?.addEventListener('change', event =>
    alert
      .querySelector('pf-popover')
      .setAttribute('alert-severity', event.target.closest('form').elements.severity.value));

  document.addEventListener('submit', function(event) {
    event.preventDefault();
  });
</script>

<style>
  form {
    padding: 0 2rem;
    display: flex;
    flex-flow: row wrap;
    gap: 8px;
  }

  form h2 {
    width: 100%;
  }

  label {
    display: flex;
    flex-direction: column;
  }

  fieldset label {
    display: grid;
    align-content: center;
    display: contents;
  }

  select {
    display: block;
    margin-inline-end: auto;
    flex-basis: 100%;
  }

  #position-select {
    margin: 1rem 0;
  }

  #alert-select {
    margin-bottom: 1rem;
  }

  #no-padding pf-popover::part(content) {
    --pf-c-popover__content--PaddingTop: 0px;
    --pf-c-popover__content--PaddingRight: 0px;
    --pf-c-popover__content--PaddingBottom: 0px;
    --pf-c-popover__content--PaddingLeft: 0px;
  }

  #auto-width pf-popover::part(content) {
    --pf-c-popover--MaxWidth: none;
    --pf-c-popover--MinWidth: auto;
  }
</style>
