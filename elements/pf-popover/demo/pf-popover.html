<form id="basic">
  <fieldset>
    <legend>Triggered by reference</legend>
    <pf-popover trigger="my-trigger"
                heading="Popover heading"
                body="Popovers are triggered by click rather than hover."
                footer="Popover footer"
                style="height: 0;">
    </pf-popover>
    <pf-button id="my-trigger">Toggle popover</pf-button>
  </fieldset>

  <fieldset>
    <legend>No hide on outside click</legend>
    <pf-popover heading="Popover heading"
                body="Popovers are triggered by click rather than hover."
                footer="Popover footer"
                no-outside-click>
      <pf-button>Toggle popover</pf-button>
    </pf-popover>
  </fieldset>

  <fieldset>
    <legend>Close popover from content</legend>
    <pf-popover>
      <h3 slot="heading">Popover heading</h3>
      <div slot="body">Popovers are triggered by click rather than hover.</div>
      <span slot="footer">
        <pf-button id="close-button" variant="link" size="sm" inline>Close popover</pf-button>
      </span>
      <pf-button>Toggle popover</pf-button>
    </pf-popover>
  </fieldset>

  <fieldset>
    <legend>Without header, footer, or close</legend>
    <pf-popover hide-close>
      <div slot="body">
        This popover has no padding and is intended for use with content that has its own spacing and should touch the
        edges of the popover container.
      </div>
      <pf-button>Toggle popover</pf-button>
    </pf-popover>
  </fieldset>

  <fieldset>
    <legend>Width auto</legend>
    <pf-popover position="bottom">
      <div slot="body">Removes fixed-width and allows width to be defined by contents.</div>
      <pf-button>Toggle popover</pf-button>
    </pf-popover>
  </fieldset>
</form>

<script type="module">
  import '@patternfly/elements/pf-popover/pf-popover.js';
  import '@patternfly/elements/pf-button/pf-button.js';
  import '@patternfly/elements/pf-icon/pf-icon.js';

  // Close popover from content
  const closeButton = document.getElementById('close-button');
  closeButton?.addEventListener('click', event => event.target.closest('pf-popover').hide());

  document.addEventListener('submit', function(event) {
    event.preventDefault();
  });
</script>

<style>
  form {
    padding: 0 2rem;
    display: flex;
    flex-flow: row wrap;
    gap: 8px;
    & h2 {
      width: 100%;
    }
  }

  #no-padding pf-popover::part(content) {
    --pf-c-popover__content--PaddingTop: 0px;
    --pf-c-popover__content--PaddingRight: 0px;
    --pf-c-popover__content--PaddingBottom: 0px;
    --pf-c-popover__content--PaddingLeft: 0px;
  }

  #auto-width pf-popover::part(content) {
    --pf-c-popover--MaxWidth: none;
    --pf-c-popover--MinWidth: auto;
  }
</style>
