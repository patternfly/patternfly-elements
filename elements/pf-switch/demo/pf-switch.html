<section>
  <p>A switch toggles the state of a setting (between on and off). Switches provide a more explicit, visible representation on a setting.</p>
  <form>
    <fieldset id="fieldset-a">
      <legend>Option A</legend>
      <pf-switch id="a" checked></pf-switch>
      <label for="a" data-state="on">Message when on</label>
      <label for="a" data-state="off" hidden>Message when off</label>
    </fieldset>

    <fieldset id="fieldset-b">
      <legend>Option B (no explicit label)</legend>
      <pf-switch id="b" checked></pf-switch>
    </fieldset>

    <fieldset id="form-disabled">
      <legend>Form Disabled State</legend>
      <pf-switch id="disable-a" aria-controls="fieldset-a"></pf-switch>
      <label for="disable-a" data-state="on">Fieldset A is disabled</label>
      <label for="disable-a" data-state="off" hidden>Fieldset A is enabled</label>

      <pf-switch id="disable-a-switch" aria-controls="a"></pf-switch>
      <label for="disable-a-switch" data-state="on">Switch A is disabled</label>
      <label for="disable-a-switch" data-state="off" hidden>Switch A is enabled</label>

      <pf-switch id="disable-b" aria-controls="fieldset-b"></pf-switch>
      <label for="disable-b" data-state="on">Fieldset B is disabled</label>
      <label for="disable-b" data-state="off" hidden>Fieldset B is enabled</label>

      <pf-switch id="disable-b-switch" aria-controls="b"></pf-switch>
      <label for="disable-b-switch" data-state="on">Switch B is disabled</label>
      <label for="disable-b-switch" data-state="off" hidden>Switch B is enabled</label>
    </fieldset>
  </form>
</section>

<script type="module">
  import 'element-internals-polyfill';
  import '@patternfly/elements/pf-switch/pf-switch.js';
  import '@patternfly/elements/pf-button/pf-button.js';

  document.getElementById('form-disabled').addEventListener('change', /** @this{HTMLFieldsetElement}*/function(event) {
    const controls = document.getElementById(event.target.getAttribute('aria-controls'));
    controls.toggleAttribute('disabled', event.target.checked);
  });
</script>

<style>
  section {
    margin: 2rem;
  }

  fieldset {
    display: grid;
    grid-template-columns: min-content max-content;
    gap: var(--pf-c-switch--ColumnGap, var(--pf-c-switch__label--PaddingLeft, 1rem));
  }

  fieldset:has(#reversed) {
    grid-template-columns: max-content min-content;
  }

  label {
    color: var(--pf-c-switch__label--Color, var(--pf-global--Color--dark-100, #151515));
  }

  pf-switch:not([checked]) ~ label,
  label:has(~ pf-switch:not([checked])) {
    color: var(--pf-c-switch__input--not-checked__label--Color, var(--pf-global--disabled-color--100, #6a6e73));
  }
</style>
