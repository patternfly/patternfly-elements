{"version":3,"file":"pfe-autocomplete.umd.js","sources":["pfe-autocomplete.js"],"sourcesContent":["import PFElement from '../pfelement/pfelement.js';\n\n/*\n * Copyright 2019 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nconst KEYCODE = {\n  ENTER: 13,\n  DOWN: 40,\n  UP: 38,\n  ESC: 27\n};\n\n// use this variable to debounce api call when user types very fast\nlet throttle = false;\n\nclass PfeAutocomplete extends PFElement {\n  get html() {\n    return `<style>:host {\n  display: block;\n  position: relative; }\n\n.input-box-wrapper {\n  position: relative;\n  display: flex; }\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0; }\n\n#input-box-wrapper ::slotted(input) {\n  width: 100%;\n  flex: 1;\n  box-shadow: inset 0 0px 0px rgba(0, 0, 0, 0.075) !important;\n  padding-left: 10px;\n  padding-right: 30px;\n  border-radius: 0;\n  background-color: #fff;\n  border: 1px solid var(--pfe-theme--color--surface--border, #dfdfdf);\n  font-size: 16px;\n  \n  height: 40px;\n  transition: border-color ease-in-out 0.15s,box-shadow ease-in-out 0.15s;\n  opacity: 1;\n  outline: 0; }\n\n#input-box-wrapper ::slotted(input:disabled),\nbutton:disabled {\n  cursor: not-allowed;\n  background-color: transparent;\n  color: #ccc;\n  opacity: 0.5; }\n\n#input-box-wrapper button:focus,\n#input-box-wrapper ::slotted(input:focus) {\n  border-color: #66afe9;\n  outline: 0; }\n\n#input-box-wrapper ::slotted(input),\nbutton {\n  -webkit-appearance: none; }\n\n#input-box-wrapper ::slotted([type=\"search\"]::-ms-clear) {\n  display: none; }\n\n#input-box-wrapper ::slotted(input[type=\"search\"]::-webkit-search-cancel-button),\n#input-box-wrapper ::slotted(input[type=\"search\"]::-webkit-search-decoration) {\n  -webkit-appearance: none; }\n\nbutton {\n  color: #cccccc;\n  background-color: transparent;\n  border: none;\n  position: absolute;\n  top: 0px;\n  bottom: 0px;\n  padding: 0px;\n  margin: 0px;\n  cursor: pointer; }\n\nbutton.clear-search {\n  right: 30px;\n  width: 20px;\n  margin: 2px 1px;\n  background-color: #fff; }\n\nbutton.clear-search svg {\n  width: 12px;\n  stroke: #ccc; }\n\nbutton.clear-search:hover svg,\nbutton.clear-search:focus svg {\n  opacity: 1;\n  stroke: #06c; }\n\nbutton[disabled].clear-search:hover svg,\nbutton[disabled].clear-search:focus svg {\n  stroke: #ccc; }\n\nbutton.search-button {\n  right: 1px;\n  width: 30px; }\n\nbutton.search-button svg {\n  fill: #06c;\n  width: 16px; }\n\nbutton.search-button:hover svg,\nbutton.search-button:focus svg {\n  fill: #004080; }\n\nbutton.clear-search:hover {\n  color: #ccc; }\n\nbutton.search-button:disabled svg {\n  fill: #ccc; }\n\n.loading {\n  position: absolute;\n  width: 30px;\n  right: 52px;\n  top: 0px;\n  bottom: 0px; }\n\n.loading svg {\n  width: 26px;\n  padding-top: 7px; }</style>\n<div id=\"input-box-wrapper\">\n    <slot></slot>\n\n    <span class=\"loading\" aria-hidden=\"true\" hidden>\n        <svg viewBox=\"0 0 40 40\" enable-background=\"new 0 0 40 40\">\n          <path opacity=\"0.2\" fill=\"#000\" d=\"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n          s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n          c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z\"/>\n          <path fill=\"#000\" d=\"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n          C22.32,8.481,24.301,9.057,26.013,10.047z\">\n          <animateTransform attributeType=\"xml\"\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 20 20\"\n            to=\"360 20 20\"\n            dur=\"0.5s\"\n            repeatCount=\"indefinite\"/>\n          </path>\n        </svg>\n    </span>\n\n    <button class=\"clear-search\" type=\"button\" aria-label=\"clear search query\" hidden>\n      <svg viewBox=\"0 0 40 40\" enable-background=\"new 0 0 40 40\">\n        <line x1=\"5\" y1=\"5\" x2=\"35\" y2=\"35\" stroke-width=\"10\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"></line>\n        <line x1=\"35\" y1=\"5\" x2=\"5\" y2=\"35\" stroke-width=\"10\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"></line>\n      </svg>\n    </button>\n\n    <button class=\"search-button\" type=\"button\" aria-label=\"Search\" disabled>\n      <svg viewBox=\"0 0 512 512\">\n        <path d=\"M256.233,5.756c-71.07,15.793-141.44,87.863-155.834,159.233c-11.495,57.076,0.3,111.153,27.688,154.335L6.339,441.172\n      c-8.596,8.596-8.596,22.391,0,30.987l33.286,33.286c8.596,8.596,22.391,8.596,30.987,0L192.26,383.796\n      c43.282,27.688,97.559,39.683,154.734,28.188c79.167-15.893,142.04-77.067,159.632-155.934\n      C540.212,104.314,407.968-27.93,256.233,5.756z M435.857,208.37c0,72.869-59.075,131.944-131.944,131.944\n      S171.969,281.239,171.969,208.37S231.043,76.426,303.913,76.426S435.857,135.501,435.857,208.37z\"/>\n      </svg>\n    </button>\n</div>\n<pfe-search-droplist id=\"dropdown\"></pfe-search-droplist>`;\n  }\n\n  static get tag() {\n    return \"pfe-autocomplete\";\n  }\n\n  get templateUrl() {\n    return \"pfe-autocomplete.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-autocomplete.scss\";\n  }\n\n  constructor() {\n    super(PfeAutocomplete);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.loading = false;\n    this.debounce = this.debounce || 300;\n\n    // input box\n    let slotNodes = this.shadowRoot.querySelector(\"slot\").assignedNodes();\n    let slotElems = slotNodes.filter(n => n.nodeType === Node.ELEMENT_NODE);\n    this._input = slotElems[0];\n    this._input.addEventListener(\"input\", this._inputChanged.bind(this));\n    this._input.addEventListener(\"blur\", this._closeDroplist.bind(this));\n    this._input.setAttribute(\"role\", \"combobox\");\n    this._input.setAttribute(\"aria-label\", \"Search\");\n    this._input.setAttribute(\"aria-autocomplete\", \"both\");\n    this._input.setAttribute(\"aria-haspopup\", \"true\");\n    this._input.setAttribute(\"type\", \"search\");\n    this._input.setAttribute(\"autocomplete\", \"off\");\n    this._input.setAttribute(\"autocorrect\", \"off\");\n    this._input.setAttribute(\"autocapitalize\", \"off\");\n    this._input.setAttribute(\"spellcheck\", \"false\");\n\n    // clear button\n    this._clearBtn = this.shadowRoot.querySelector(\".clear-search\");\n    this._clearBtn.addEventListener(\"click\", this._clear.bind(this));\n\n    // search button\n    this._searchBtn = this.shadowRoot.querySelector(\".search-button\");\n    this._searchBtn.addEventListener(\"click\", this._search.bind(this));\n\n    this._dropdown = this.shadowRoot.querySelector(\"#dropdown\");\n    this._dropdown.data = [];\n\n    this.activeIndex = null;\n\n    this.addEventListener(\"keyup\", this._inputKeyUp.bind(this));\n\n    // these two events, fire search\n    this.addEventListener(\"pfe-search-event\", this._closeDroplist.bind(this));\n    this.addEventListener(\n      \"pfe-option-selected\",\n      this._optionSelected.bind(this)\n    );\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(\"keyup\", this._inputKeyUp);\n    this.removeEventListener(\"pfe-search-event\", this._closeDroplist);\n    this.removeEventListener(\"pfe-option-selected\", this._optionSelected);\n    this._input.removeEventListener(\"input\", this._inputChanged);\n    this._input.removeEventListener(\"blur\", this._closeDroplist);\n    this._clearBtn.removeEventListener(\"click\", this._clear);\n    this._searchBtn.removeEventListener(\"click\", this._search);\n  }\n\n  static get observedAttributes() {\n    return [\"init-value\", \"loading\", \"is-disabled\"];\n  }\n\n  attributeChangedCallback(attr, oldVal, newVal) {\n    super.attributeChangedCallback();\n\n    let slotNodes = this.shadowRoot.querySelector(\"slot\").assignedNodes();\n    let slotElems = slotNodes.filter(n => n.nodeType === Node.ELEMENT_NODE);\n    let _input = slotElems[0];\n\n    let _clearBtn = this.shadowRoot.querySelector(\".clear-search\");\n    let _searchBtn = this.shadowRoot.querySelector(\".search-button\");\n\n    switch (attr) {\n      case \"loading\":\n        if (!this.loading || _input.value === \"\") {\n          this.shadowRoot.querySelector(\".loading\").setAttribute(\"hidden\", \"\");\n        } else {\n          this.shadowRoot.querySelector(\".loading\").removeAttribute(\"hidden\");\n        }\n        break;\n\n      case \"init-value\":\n        if (this[\"init-value\"] !== newVal) {\n          // set inputbox and buttons in the inner component\n          _input.value = newVal;\n          if (newVal !== \"\" && !this.isDisabled) {\n            _searchBtn.removeAttribute(\"disabled\");\n            _clearBtn.removeAttribute(\"hidden\");\n          } else {\n            _searchBtn.setAttribute(\"disabled\", \"\");\n            _clearBtn.setAttribute(\"hidden\", \"\");\n          }\n        }\n        break;\n\n      case \"is-disabled\":\n        if (this.isDisabled) {\n          _clearBtn.setAttribute(\"disabled\", \"\");\n          _searchBtn.setAttribute(\"disabled\", \"\");\n          _input.setAttribute(\"disabled\", \"\");\n        } else {\n          _clearBtn.removeAttribute(\"disabled\");\n          _searchBtn.removeAttribute(\"disabled\");\n          _input.removeAttribute(\"disabled\");\n        }\n        break;\n    }\n  }\n\n  get selectedValue() {\n    return this.getAttribute(\"selected-value\");\n  }\n\n  set selectedValue(val) {\n    this.setAttribute(\"selected-value\", val);\n  }\n\n  set isDisabled(value) {\n    if (value) {\n      this.setAttribute(\"is-disabled\", \"\");\n    } else {\n      this.removeAttribute(\"is-disabled\");\n    }\n  }\n\n  get isDisabled() {\n    return this.hasAttribute(\"is-disabled\");\n  }\n\n  set loading(value) {\n    const loading = Boolean(value);\n    if (loading) {\n      this.setAttribute(\"loading\", \"\");\n    } else {\n      this.removeAttribute(\"loading\");\n    }\n  }\n\n  get loading() {\n    return this.hasAttribute(\"loading\");\n  }\n\n  get initValue() {\n    return this.getAttribute(\"init-value\");\n  }\n\n  set initValue(val) {\n    this.setAttribute(\"init-value\", val);\n  }\n\n  get debounce() {\n    return this.getAttribute(\"debounce\");\n  }\n\n  set debounce(val) {\n    this.setAttribute(\"debounce\", val);\n  }\n\n  _inputChanged() {\n    if (this._input.value === \"\") {\n      this._searchBtn.setAttribute(\"disabled\", \"\");\n      this._clearBtn.setAttribute(\"hidden\", \"\");\n\n      this._reset();\n      return;\n    } else {\n      if (!this._input.hasAttribute(\"disabled\")) {\n        this._searchBtn.removeAttribute(\"disabled\");\n      }\n      this._clearBtn.removeAttribute(\"hidden\");\n    }\n\n    if (throttle === false) {\n      throttle = true;\n\n      window.setTimeout(() => {\n        this._sendAutocompleteRequest(this._input.value);\n        throttle = false;\n      }, this.debounce);\n    }\n  }\n\n  _clear() {\n    this._input.value = \"\";\n    this._clearBtn.setAttribute(\"hidden\", \"\");\n    this._searchBtn.setAttribute(\"disabled\", \"\");\n    this._input.focus();\n  }\n\n  _search() {\n    this._doSearch(this._input.value);\n  }\n\n  _closeDroplist() {\n    this._dropdown.open = null;\n    this._dropdown.removeAttribute(\"active-index\");\n  }\n\n  _openDroplist() {\n    this.activeIndex = null;\n    this._dropdown.setAttribute(\"open\", true);\n    this._dropdown.setAttribute(\"active-index\", null);\n  }\n\n  _optionSelected(e) {\n    let selectedValue = e.detail.optionValue;\n\n    // update input box with selected value from options list\n    this._input.value = selectedValue;\n\n    // send search request\n    this._doSearch(selectedValue);\n  }\n\n  _doSearch(searchQuery) {\n    this.dispatchEvent(\n      new CustomEvent(\"pfe-search-event\", {\n        detail: { searchValue: searchQuery },\n        bubbles: true,\n        composed: true\n      })\n    );\n    this._reset();\n    this.selectedValue = searchQuery;\n  }\n\n  _sendAutocompleteRequest(input) {\n    if (!this.autocompleteRequest) return;\n\n    this.autocompleteRequest(\n      { query: input },\n      this._autocompleteCallback.bind(this)\n    );\n  }\n\n  _autocompleteCallback(response) {\n    this._dropdown.data = response;\n    this._dropdown.reflow = true;\n    response.length !== 0 ? this._openDroplist() : this._closeDroplist();\n  }\n\n  _reset() {\n    debugger;\n    this._dropdown.activeIndex = null;\n    this._input.setAttribute(\"aria-activedescendant\", \"\");\n    this._dropdown.data = [];\n    this._closeDroplist();\n  }\n\n  _activeOption(activeIndex) {\n    if (activeIndex === null || activeIndex === \"null\") return;\n    return this._dropdown.shadowRoot.querySelector(\n      \"li:nth-child(\" + (parseInt(activeIndex, 10) + 1) + \")\"\n    ).innerHTML;\n  }\n\n  _inputKeyUp(e) {\n    let key = e.keyCode;\n\n    if (\n      this._dropdown.data.length === 0 &&\n      key !== KEYCODE.DOWN &&\n      key !== KEYCODE.UP &&\n      key !== KEYCODE.ENTER &&\n      key !== KEYCODE.ESC\n    )\n      return;\n\n    let activeIndex = this._dropdown.activeIndex;\n    let optionsLength = this._dropdown.data.length;\n\n    if (key == KEYCODE.ESC) {\n      this._closeDroplist();\n    } else if (key === KEYCODE.UP) {\n      if (!this._dropdown.open) {\n        return;\n      }\n\n      activeIndex =\n        activeIndex === null || activeIndex === \"null\"\n          ? optionsLength\n          : parseInt(activeIndex, 10);\n\n      activeIndex -= 1;\n\n      if (activeIndex < 0) {\n        activeIndex = optionsLength - 1;\n      }\n\n      this._input.value = this._activeOption(activeIndex);\n    } else if (key === KEYCODE.DOWN) {\n      if (!this._dropdown.open) {\n        return;\n      }\n\n      activeIndex =\n        activeIndex === null || activeIndex === \"null\"\n          ? -1\n          : parseInt(activeIndex, 10);\n      activeIndex += 1;\n\n      if (activeIndex > optionsLength - 1) {\n        activeIndex = 0;\n      }\n\n      this._input.value = this._activeOption(activeIndex);\n    } else if (key === KEYCODE.ENTER) {\n      let selectedValue = this._input.value;\n      this._doSearch(selectedValue);\n      return;\n    }\n\n    if (activeIndex !== null && activeIndex !== \"null\") {\n      this._input.setAttribute(\n        \"aria-activedescendant\",\n        \"option-\" + activeIndex\n      );\n    } else {\n      this._input.setAttribute(\"aria-activedescendant\", \"\");\n    }\n\n    this.activeIndex = activeIndex;\n    this._dropdown.activeIndex = activeIndex;\n  }\n}\n\n/*\n* - Attributes ------------------------------------\n* open               | Set when the combo box dropdown is open\n* active-index       | Set selected option\n* reflow             | Re-renders the dropdown\n\n* - Events ----------------------------------------\n* pfe-option-selected | Fires when an option is selected.\n  event.detailes.selectedValue contains the selected value.\n*/\nclass PfeSearchDroplist extends PFElement {\n  get html() {\n    return `<style>:host {\n  position: relative;\n  display: none;\n  font-family: var(--pfe-theme--font-family);\n  font-size: var(--pfe-theme--font-size);\n  line-height: var(--pfe-theme--line-height); }\n\n:host([open]) {\n  display: block; }\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0; }\n\n.droplist {\n  position: absolute;\n  top: 100%;\n  left: 0px;\n  right: 0px;\n  max-height: 250px;\n  z-index: 9999;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  border: 1px solid #ccc;\n  background-color: #fff; }\n\nul {\n  font-family: var(--pfe-theme--font-family);\n  font-size: var(--pfe-theme--font-size);\n  line-height: var(--pfe-theme--line-height);\n  border-top: none;\n  margin: 0px;\n  padding: 0px;\n  list-style: none;\n  cursor: pointer; }\n  ul li {\n    display: list-item;\n    cursor: pointer;\n    padding: 10px;\n    margin: 0px;\n     }\n    ul li.active {\n      background-color: var(--pfe-theme--color--surface--lighter, #ececec); }</style>\n<div class=\"suggestions-aria-help sr-only\" aria-hidden=\"false\" role=\"status\"></div>\n<div class=\"droplist\">\n  <ul role=\"listbox\" tabindex=\"-1\">\n  </ul>\n</div>`;\n  }\n\n  static get tag() {\n    return \"pfe-search-droplist\";\n  }\n\n  get templateUrl() {\n    return \"pfe-search-droplist.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-search-droplist.scss\";\n  }\n\n  constructor() {\n    super(PfeSearchDroplist);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._ariaAnnounce = this.shadowRoot.querySelector(\n      \".suggestions-aria-help\"\n    );\n\n    this.activeIndex = null;\n    this._ul = this.shadowRoot.querySelector(\"ul\");\n    this._ul.addEventListener(\"mousedown\", this._optionSelected.bind(this));\n  }\n\n  disconnectedCallback() {\n    this._ul.removeEventListener(\"mousedown\", this._optionSelected);\n  }\n\n  _optionSelected(e) {\n    if (e.target.tagName === \"LI\") {\n      this.dispatchEvent(\n        new CustomEvent(\"pfe-option-selected\", {\n          detail: { optionValue: e.target.innerText },\n          bubbles: true,\n          composed: true\n        })\n      );\n    }\n  }\n\n  _renderOptions() {\n    this.reflow = \"\";\n\n    let options = this.data;\n\n    this._ariaAnnounce.innerHTML = `There are ${\n      options.length\n    } suggestions. Use the up and down arrows to browse.`;\n    this._ariaAnnounce.setAttribute(\"aria-live\", \"polite\");\n\n    this._ul.innerHTML = `${options\n      .map((item, index) => {\n        return `<li id=\"option-${index}\" role=\"option\" tabindex=\"-1\" value=\"${item}\">${item}</li>`;\n      })\n      .join(\"\")}`;\n  }\n\n  static get observedAttributes() {\n    return [\"open\", \"reflow\", \"active-index\"];\n  }\n\n  attributeChangedCallback(attr, oldVal, newVal) {\n    super.attributeChangedCallback();\n\n    if (this[name] !== newVal) {\n      this[name] = newVal;\n    }\n\n    if (attr === \"active-index\" && oldVal !== newVal) {\n      this._activeIndexChanged();\n    }\n\n    if (attr === \"reflow\") {\n      this._renderOptions();\n    }\n  }\n\n  _activeIndexChanged() {\n    if (\n      !this.data ||\n      this.data.length === 0 ||\n      this.activeIndex === null ||\n      this.activeIndex === \"null\"\n    )\n      return;\n\n    // remove active class\n    if (this._ul.querySelector(\".active\")) {\n      this._ul.querySelector(\".active\").classList.remove(\"active\");\n    }\n\n    // add active class to selected option\n    let activeOption = this._ul.querySelector(\n      \"li:nth-child(\" + (parseInt(this.activeIndex, 10) + 1) + \")\"\n    );\n\n    activeOption.classList.add(\"active\");\n\n    // scroll to selected element when selected item with keyboard is out of view\n    let ulWrapper = this.shadowRoot.querySelector(\".droplist\");\n    let activeOptionHeight = activeOption.offsetHeight;\n    activeOptionHeight += parseInt(\n      window.getComputedStyle(activeOption).getPropertyValue(\"margin-bottom\"),\n      10\n    );\n    ulWrapper.scrollTop =\n      activeOption.offsetTop - ulWrapper.offsetHeight + activeOptionHeight;\n  }\n\n  get open() {\n    return this.hasAttribute(\"open\");\n  }\n\n  set open(val) {\n    val = Boolean(val);\n\n    if (val) {\n      this.setAttribute(\"open\", \"\");\n    } else {\n      this.removeAttribute(\"open\");\n    }\n  }\n\n  get activeIndex() {\n    return this.getAttribute(\"active-index\");\n  }\n\n  set activeIndex(val) {\n    this.setAttribute(\"active-index\", val);\n  }\n\n  get reflow() {\n    return this.hasAttribute(\"reflow\");\n  }\n\n  set reflow(val) {\n    val = Boolean(val);\n\n    if (val) {\n      this.setAttribute(\"reflow\", \"\");\n    } else {\n      this.removeAttribute(\"reflow\");\n    }\n  }\n}\n\nPFElement.create(PfeSearchDroplist);\nPFElement.create(PfeAutocomplete);\n\nexport default PfeAutocomplete;\n//# sourceMappingURL=pfe-autocomplete.js.map\n"],"names":["KEYCODE","ENTER","DOWN","UP","ESC","throttle","PfeAutocomplete","loading","debounce","slotNodes","shadowRoot","querySelector","assignedNodes","slotElems","filter","n","nodeType","Node","ELEMENT_NODE","_input","addEventListener","_inputChanged","bind","_closeDroplist","setAttribute","_clearBtn","_clear","_searchBtn","_search","_dropdown","data","activeIndex","_inputKeyUp","_optionSelected","removeEventListener","attr","oldVal","newVal","value","removeAttribute","isDisabled","_reset","hasAttribute","window","setTimeout","_sendAutocompleteRequest","focus","_doSearch","open","e","selectedValue","detail","optionValue","searchQuery","dispatchEvent","CustomEvent","searchValue","bubbles","composed","input","autocompleteRequest","query","_autocompleteCallback","response","reflow","length","_openDroplist","parseInt","innerHTML","key","keyCode","optionsLength","_activeOption","getAttribute","val","Boolean","PFElement","PfeSearchDroplist","_ariaAnnounce","_ul","target","tagName","innerText","options","map","item","index","join","name","_activeIndexChanged","_renderOptions","classList","remove","activeOption","add","ulWrapper","activeOptionHeight","offsetHeight","getComputedStyle","getPropertyValue","scrollTop","offsetTop","create"],"mappings":"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"}