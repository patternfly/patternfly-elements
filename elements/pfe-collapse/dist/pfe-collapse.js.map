{"version":3,"file":"pfe-collapse.js","sources":["../_temp/pfe-collapse.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeCollapse 1.0.0\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement.js\";\n\nfunction generateId() {\n  return Math.random()\n    .toString(36)\n    .substr(2, 9);\n}\n\nclass PfeCollapseToggle extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.0.0\";\n  }\n\n  // Injected at build-time\n  get html() {\n    return `\n<style>:host{display:block;cursor:default} /*# sourceMappingURL=pfe-collapse-toggle.min.css.map */</style>\n<slot></slot>`;\n  }\n\n  // Injected at build-time\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"pfe-collapsibe-toggle\"},{\"$ref\":\"pfe-collapse-panel\"}]}}};\n  }\n\n  static get tag() {\n    return \"pfe-collapse-toggle\";\n  }\n\n  get templateUrl() {\n    return \"pfe-collapse-toggle.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-collapse-toggle.scss\";\n  }\n\n  get expanded() {\n    return this.getAttribute(\"aria-expanded\") === \"true\";\n  }\n\n  set expanded(val) {\n    const value = Boolean(val);\n    this.setAttribute(\"aria-expanded\", value);\n  }\n\n  static get properties() {\n    return {\n      ariaExpanded: {\n        title: \"Aria expanded\",\n        type: String,\n        prefix: false,\n        values: [\"true\", \"false\"]\n      },\n      ariaControls: {\n        title: \"Aria controls\",\n        type: String,\n        prefix: false,\n        observer: \"_ariaControlsChanged\"\n      }\n    };\n  }\n\n  constructor(pfeClass, { setTabIndex = true, addKeydownHandler = true } = {}) {\n    super(pfeClass || PfeCollapseToggle);\n\n    this.controlledPanel = false;\n    this._setTabIndex = setTabIndex;\n    this._addKeydownHandler = addKeydownHandler;\n\n    this.addEventListener(\"click\", this._clickHandler);\n\n    if (addKeydownHandler) {\n      this.addEventListener(\"keydown\", this._keydownHandler);\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.expanded = false;\n\n    this.id = this.id || `${PfeCollapseToggle.tag}-${generateId()}`;\n\n    this.setAttribute(\"role\", \"button\");\n\n    if (this._setTabIndex) {\n      this.setAttribute(\"tabindex\", 0);\n    }\n\n    if (!this.controlledPanel) {\n      this._connectPanel(this.getAttribute(\"aria-controls\"));\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this.removeEventListener(\"click\", this._clickHandler);\n\n    if (this._addKeydownHandler) {\n      this.removeEventListener(\"keydown\", this._keydownHandler);\n    }\n  }\n\n  _ariaControlsChanged(oldVal, newVal) {\n    if (!newVal) {\n      return;\n    }\n\n    this._connectPanel(newVal);\n  }\n\n  toggle() {\n    if (this.hasAttribute(\"disabled\")) {\n      return;\n    }\n\n    this.expanded = !this.expanded;\n\n    // one last try to hook up a panel\n    if (!this.controlledPanel) {\n      this._connectPanel(this.getAttribute(\"aria-controls\"));\n    }\n\n    if (this.controlledPanel) {\n      this.controlledPanel.expanded = this.expanded;\n\n      this.emitEvent(PfeCollapse.events.change, {\n        detail: {\n          expanded: this.expanded,\n          toggle: this,\n          panel: this.controlledPanel\n        }\n      });\n    } else {\n      this.warn(`This toggle doesn't have a panel associated with it`);\n    }\n  }\n\n  _clickHandler() {\n    this.toggle();\n  }\n\n  _keydownHandler(event) {\n    const key = event.key;\n\n    switch (key) {\n      case \" \":\n      case \"Spacebar\":\n      case \"Enter\":\n        this.toggle();\n        break;\n    }\n  }\n\n  _connectPanel(id) {\n    // this can be an issue if the pfe-collapse is located within\n    // a shadow root\n    if (this.getRootNode) {\n      this.controlledPanel = this.getRootNode().querySelector(`#${id}`);\n    } else {\n      this.controlledPanel = document.querySelector(`#${id}`);\n    }\n  }\n}\n\nclass PfeCollapsePanel extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.0.0\";\n  }\n\n  // Injected at build-time\n  get html() {\n    return `\n<style>:host{display:none;overflow:hidden;will-change:height}:host([expanded]){display:block;position:relative}:host(.animating){display:block;-webkit-transition:height .3s ease-in-out;transition:height .3s ease-in-out} /*# sourceMappingURL=pfe-collapse-panel.min.css.map */</style>\n<slot></slot>`;\n  }\n\n  // Injected at build-time\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"pfe-collapsibe-toggle\"},{\"$ref\":\"pfe-collapse-panel\"}]}}};\n  }\n\n  static get tag() {\n    return \"pfe-collapse-panel\";\n  }\n\n  static get events() {\n    return {\n      animationStart: `${this.tag}:animation-start`,\n      animationEnd: `${this.tag}:animation-end`\n    };\n  }\n\n  get templateUrl() {\n    return \"pfe-collapse-panel.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-collapse-panel.scss\";\n  }\n\n  get animates() {\n    return this.animation === \"false\" ? false : true;\n  }\n\n  get expanded() {\n    return this.hasAttribute(\"expanded\") || this.hasAttribute(\"pfe-expanded\"); // @TODO: Deprecated\n  }\n\n  set expanded(val) {\n    const value = Boolean(val);\n\n    if (value) {\n      this.setAttribute(\"pfe-expanded\", \"\"); // @TODO: Deprecated\n      this.setAttribute(\"expanded\", \"\");\n\n      if (this.animates) {\n        const height = this.getBoundingClientRect().height;\n        this._fireAnimationEvent(\"opening\");\n        this._animate(0, height);\n      }\n    } else {\n      if (this.hasAttribute(\"expanded\") || this.hasAttribute(\"pfe-expanded\")) {\n        // @TODO: Deprecated\n        const height = this.getBoundingClientRect().height;\n        this.removeAttribute(\"expanded\");\n        this.removeAttribute(\"pfe-expanded\"); // @TODO: Deprecated\n\n        if (this.animates) {\n          this._fireAnimationEvent(\"closing\");\n          this._animate(height, 0);\n        }\n      }\n    }\n  }\n\n  static get properties() {\n    return {\n      animation: {\n        title: \"Animation\",\n        type: String,\n        values: [\"false\"]\n      },\n      // @TODO: Deprecated\n      oldAnimation: {\n        alias: \"animation\",\n        attr: \"pfe-animation\"\n      }\n    };\n  }\n\n  constructor(pfeClass) {\n    super(pfeClass || PfeCollapsePanel);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.expanded = false;\n\n    this.id = this.id || `${PfeCollapsePanel.tag}-${generateId()}`;\n  }\n\n  _animate(start, end) {\n    this.classList.add(\"animating\");\n    this.style.height = `${start}px`;\n\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        this.style.height = `${end}px`;\n        this.classList.add(\"animating\");\n        this.addEventListener(\"transitionend\", this._transitionEndHandler);\n      });\n    });\n  }\n\n  _transitionEndHandler(event) {\n    event.target.style.height = \"\";\n    event.target.classList.remove(\"animating\");\n    event.target.removeEventListener(\"transitionend\", this._transitionEndHandler);\n\n    this.emitEvent(PfeCollapsePanel.events.animationEnd, {\n      detail: {\n        expanded: this.expanded,\n        panel: this\n      }\n    });\n  }\n\n  _fireAnimationEvent(state) {\n    this.emitEvent(PfeCollapsePanel.events.animationStart, {\n      detail: {\n        state: state,\n        panel: this\n      }\n    });\n  }\n}\n\nclass PfeCollapse extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.0.0\";\n  }\n\n  // Injected at build-time\n  get html() {\n    return `\n<style>:host{display:block}:host([hidden]){display:none}:host(.animating),:host([expanded]){display:block} /*# sourceMappingURL=pfe-collapse.min.css.map */</style>\n<slot></slot>`;\n  }\n\n  // Injected at build-time\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"pfe-collapsibe-toggle\"},{\"$ref\":\"pfe-collapse-panel\"}]}}};\n  }\n\n  static get tag() {\n    return \"pfe-collapse\";\n  }\n\n  get templateUrl() {\n    return \"pfe-collapse.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-collapse.scss\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-collapse.json\";\n  }\n\n  get animates() {\n    return this.animation === \"false\" ? false : true;\n  }\n\n  static get events() {\n    return {\n      change: `${this.tag}:change`\n    };\n  }\n\n  static get properties() {\n    return {\n      animation: {\n        title: \"Animation\",\n        type: String,\n        values: [\"false\"],\n        observer: \"_animationChanged\"\n      },\n      // @TODO: Deprecated\n      oldAnimation: {\n        alias: \"animation\",\n        attr: \"pfe-animation\"\n      }\n    };\n  }\n\n  constructor(pfeClass) {\n    super(pfeClass || PfeCollapse);\n\n    this._toggle = null;\n    this._panel = null;\n    this._linkControls = this._linkControls.bind(this);\n    this._changeHandler = this._changeHandler.bind(this);\n    this._observer = new MutationObserver(this._linkControls);\n\n    this.addEventListener(PfeCollapse.events.change, this._changeHandler);\n    this.addEventListener(PfeCollapse.events.animationStart, this._animationStartHandler);\n    this.addEventListener(PfeCollapse.events.animationEnd, this._animationEndHandler);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    Promise.all([\n      customElements.whenDefined(PfeCollapsePanel.tag),\n      customElements.whenDefined(PfeCollapseToggle.tag)\n    ]).then(() => {\n      if (this.hasLightDOM()) this._linkControls();\n\n      this._observer.observe(this, { childList: true });\n    });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this.removeEventListener(PfeCollapse.events.change, this._changeHandler);\n    this.removeEventListener(PfeCollapse.events.animationStart, this._animationStartHandler);\n    this.removeEventListener(PfeCollapse.events.animationEnd, this._animationEndHandler);\n    this._observer.disconnect();\n  }\n\n  _animationChanged(oldVal, newVal) {\n    if (!newVal) {\n      return;\n    }\n\n    if (newVal !== \"false\" && newVal !== \"true\") {\n      return;\n    }\n\n    if (this._panel) {\n      this._panel.animation = newVal;\n    }\n  }\n\n  toggle() {\n    this._toggle.toggle();\n  }\n\n  _linkControls() {\n    this._toggle = this.querySelector(PfeCollapseToggle.tag);\n    this._panel = this.querySelector(PfeCollapsePanel.tag);\n\n    this._toggle.setAttribute(\"aria-controls\", this._panel.id);\n  }\n\n  _animationStartHandler() {\n    this.classList.add(\"animating\");\n  }\n\n  _animationEndHandler() {\n    this.classList.remove(\"animating\");\n  }\n\n  _changeHandler(event) {}\n}\n\nPFElement.create(PfeCollapse);\nPFElement.create(PfeCollapseToggle);\nPFElement.create(PfeCollapsePanel);\n\nexport { PfeCollapse, PfeCollapseToggle, PfeCollapsePanel };\n"],"names":[],"mappings":"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"}