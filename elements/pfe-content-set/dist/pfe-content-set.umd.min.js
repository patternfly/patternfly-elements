!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min"),require("../../pfe-accordion/dist/pfe-accordion.umd.min"),require("../../pfe-tabs/dist/pfe-tabs.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min","../../pfe-accordion/dist/pfe-accordion.umd.min","../../pfe-tabs/dist/pfe-tabs.umd.min"],t):(e=e||self).PfeContentSet=t(e.PFElement,e.PfeAccordion,e.PfeTabs)}(this,function(e,a,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0});var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0!==i){if("value"in i)return i.value;i=i.get;return void 0!==i?i.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return r(e,t,n)}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l={characterData:!1,childList:!0,subtree:!1},n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,e),n(u,[{key:"html",get:function(){return'\n<style>:host{display:block}::slotted([hidden]),:host([hidden]),[hidden]{display:none!important}:host([align=center]),:host([align=right]){text-align:left} /*# sourceMappingURL=pfe-content-set.min.css.map */</style>\n<div id="container"></div>'}},{key:"styleUrl",get:function(){return"pfe-content-set.scss"}},{key:"templateUrl",get:function(){return"pfe-content-set.html"}},{key:"breakpointValue",get:function(){return parseInt(this.breakpoint.replace(/\D/g,""))}},{key:"isTab",get:function(){return this.parentNode?this.parentNode.offsetWidth>this.breakpointValue:window.outerWidth>this.breakpointValue}},{key:"viewAll",get:function(){return this.view}},{key:"view",get:function(){if(this._rendered)return this.shadowRoot.querySelector("#container > "+this.expectedTag)}},{key:"expectedTag",get:function(){return(this.isTab?s:a).tag}},{key:"tabs",get:function(){return this.querySelector('pfe-tabs[slot="_view"]')}},{key:"accordion",get:function(){return this.querySelector('pfe-accordion[slot="_view"]')}},{key:"hasValidLightDOM",get:function(){var t=this;if(this.hasLightDOM()){var n=!1;return[].concat(d(this.children)).forEach(function(e){"#text"!==e.nodeName&&(t._isHeader(e)||t._isPanel(e)||e.tagName&&e.tagName.toLowerCase()===t.expectedTag)&&(n=!0)}),n}return!1}}],[{key:"version",get:function(){return"1.7.0"}},{key:"tag",get:function(){return"pfe-content-set"}},{key:"meta",get:function(){return{title:"Content set",description:"This element creates a flexible component that renders an accordion or tabset depending on screen size."}}},{key:"pfeType",get:function(){return e.pfeType.combo}},{key:"properties",get:function(){return{vertical:{title:"Vertical orientation",type:Boolean,default:!1,cascade:"pfe-tabs"},selectedIndex:{title:"Index of the selected tab",type:Number,cascade:"pfe-tabs"},tabAlign:{title:"Tab alignment",type:String,enum:["center"],cascade:"pfe-tabs"},variant:{title:"Variant",type:String,enum:["wind","earth"],default:"wind",cascade:"pfe-tabs"},oldVariant:{type:String,attr:"pfe-variant",alias:"variant"},oldTabHistory:{type:Boolean,alias:"tabHistory",attr:"pfe-tab-history"},tabHistory:{title:"Tab History",type:Boolean,default:!1,cascade:"pfe-tabs"},disclosure:{title:"Disclosure",type:String,values:["true","false"],cascade:"pfe-accordion"},oldDisclosure:{type:String,alias:"disclosure",attr:"pfe-disclosure"},breakpoint:{title:"Custom breakpoint",type:String,default:"700",observer:"_updateBreakpoint"},oldBreakpoint:{type:String,alias:"breakpoint",attr:"pfe-breakpoint"},align:{type:String,enum:["center"],observer:"_alignmentHandler"},oldAlign:{attr:"pfe-align",alias:"align"},pfeId:{type:String,attr:"pfe-id",observer:"_copyToId"}}}},{key:"slots",get:function(){return{default:{title:"Default",type:"array",namedSlot:!1,items:{$ref:"raw"}}}}}]),n(u,[{key:"connectedCallback",value:function(){r(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"connectedCallback",this).call(this),this.hasValidLightDOM?(this._build(),!this.isIE11&&window.ResizeObserver&&this.parentElement&&this._resizeObserver.observe(this.parentElement)):this.isIE11||this._observer.observe(this,l)}},{key:"disconnectedCallback",value:function(){r(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"disconnectedCallback",this).call(this),this._observer.disconnect(),window.ResizeObserver&&this._resizeObserver.disconnect()}},{key:"build",value:function(){return this._build()}},{key:"_mutationHandler",value:function(e){if(this.isIE11||!e)this._build();else{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a,s,d=r.value;"childList"===d.type&&(d.addedNodes&&0<d.addedNodes.length&&(0<(a=d.addedNodes).length&&this._addNodes(a)),d.removedNodes&&0<d.removedNodes.length&&(0<(s=d.removedNodes).length&&this._removeNodes(s)))}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}}},{key:"_isHeader",value:function(e){return void 0!==e.hasAttribute&&!(!e.hasAttribute(this.tag+"--header")&&!e.tagName.match(/H[1-6]/))}},{key:"_isPanel",value:function(e){return void 0!==e.previousElementSibling&&!!this._isHeader(e.previousElementSibling)}},{key:"_addNodes",value:function(e){this._build(e)}},{key:"_removeNodes",value:function(e){var t=this;e.forEach(function(e){return t._removeNode(e)}),this.view&&(this.view.hasChildNodes()?this.view.removeAttribute("hidden"):this.view.setAttribute("hidden",""))}},{key:"_findConnection",value:function(e){var t=null;return this.view&&("#text"===e.nodeName||!e.hasAttribute("slot")||(e=e.getAttribute("slot"))&&(t=this.view.querySelector('[name="'+e+'"]')),t||this.warn('no slot could be found with [name="'+id+'"]')),t}},{key:"_addNode",value:function(e){this.view&&this._build()}},{key:"_removeNode",value:function(e){var t,n;this.view&&((n=this._findConnection(e))?(e=t=void 0,"header"===(n=n.parentElement).getAttribute("content-type")&&n.nextElementSibling&&"panel"===n.nextElementSibling.getAttribute("content-type")?e=(t=n).nextElementSibling:"panel"===n.getAttribute("content-type")&&n.previousElementSibling&&"header"===n.previousElementSibling.getAttribute("content-type")&&(t=n.previousElementSibling,e=n),t&&t.remove(),e&&e.remove()):this._build())}},{key:"_updateNode",value:function(e,t){var n;this.view&&((n=this._findConnection(e))?t?n.textContent=t:n.innerHTML=e.innerHTML:this._build())}},{key:"_build",value:function(e){var t=this,n=this.view;n&&n.tag===this.expectedTag||(n=this._buildWrapper()),this._observer.disconnect();var i=n.tag||n.tagName.toLowerCase(),r=("pfe-tabs"===i?s:a).contentTemplate,o=e?e:null;!o&&[].concat(d(this.children)).length&&(o=this.children),!e&&o&&(n.innerHTML=""),!o||(r=this._buildSets(o,r))&&n.appendChild(r),window.ShadyDOM?this.shadowRoot.querySelector("#container").appendChild(n):this.shadowRoot.querySelector("#container").innerHTML=n.outerHTML,Promise.all([customElements.whenDefined(i)]).then(function(){t.cascadeProperties(),t.resetContext(),t.isIE11||t._observer.observe(t,l)})}},{key:"_buildWrapper",value:function(){if(this.view)return this.view;var e=document.createElement(this.expectedTag);return e.id=this.id||this.pfeId||this.randomId,e}},{key:"_buildSets",value:function(o,a){for(var s=this,d=document.createDocumentFragment(),e=0;e<o.length;e+=2)!function(e){var t=o[e],n=o[e+1],i=document.createElement("template");i.innerHTML=a.trim();var r=i.content.cloneNode(!0);t||s.warn("no element found at position "+e+" of the light DOM input."),n||s.warn("no element found at position "+(e+1)+" of the light DOM input."),t&&s._isHeader(t)&&n&&s._isPanel(n)&&[t,n].forEach(function(e,t){var n=0===t?"header":"panel",i=r.querySelector('[content-type="'+n+'"]').cloneNode(!0),t=document.createElement("slot");t.name=s.randomId.replace("pfe-",n+"-"),i.appendChild(t),e.setAttribute("slot",t.name),(e.id||e.getAttribute("pfe-id"))&&(i.id=e.id||e.getAttribute("pfe-id")),d.appendChild(i)})}(e);return d}},{key:"_copyToId",value:function(e,t){e===t||this.id||(this.id=t)}},{key:"_alignmentHandler",value:function(e,t){e!==t&&(this.tabAlign=t)}},{key:"_resizeHandler",value:function(){(!this.view||this.view&&this.view.tag!==this.expectedTag)&&this._build()}},{key:"_updateBreakpoint",value:function(){(!this.view||this.view&&this.view.tag!==this.expectedTag)&&this._build()}}]),u);function u(){t(this,u);var e=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,{type:u.PfeType}));return e.build=e.build.bind(e),e._mutationHandler=e._mutationHandler.bind(e),e._alignmentHandler=e._alignmentHandler.bind(e),e._resizeHandler=e._resizeHandler.bind(e),e._build=e._build.bind(e),e._buildWrapper=e._buildWrapper.bind(e),e._buildSets=e._buildSets.bind(e),e._isHeader=e._isHeader.bind(e),e._isPanel=e._isPanel.bind(e),e._addNodes=e._addNodes.bind(e),e._removeNodes=e._removeNodes.bind(e),e._findConnection=e._findConnection.bind(e),e._addNode=e._addNode.bind(e),e._removeNode=e._removeNode.bind(e),e._updateNode=e._updateNode.bind(e),e._copyToId=e._copyToId.bind(e),e._updateBreakpoint=e._updateBreakpoint.bind(e),e._observer=new MutationObserver(e._mutationHandler),window.ResizeObserver&&(e._resizeObserver=new ResizeObserver(e._resizeHandler)),e}return e.create(n),n});
//# sourceMappingURL=pfe-content-set.umd.min.js.map
