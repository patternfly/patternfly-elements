{"version":3,"file":"pfe-content-set.js","sources":["pfe-content-set.js"],"sourcesContent":["/*\n * Copyright 2019 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../pfelement/pfelement.js\";\nimport PfeAccordion from \"../pfe-accordion/pfe-accordion.js\";\nimport PfeTabs from \"../pfe-tabs/pfe-tabs.js\";\n\nclass PfeContentSet extends PFElement {\n  get html() {\n    return `<style>:host {\n  display: block; }\n\n:host([hidden]) {\n  display: none; }</style>\n<slot></slot>`;\n  }\n\n  static get tag() {\n    return \"pfe-content-set\";\n  }\n\n  get templateUrl() {\n    return \"pfe-content-set.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-content-set.scss\";\n  }\n\n  static get pfeType() {\n    return PFElement.pfeType.combo;\n  }\n\n  get isTab() {\n    return this.parentNode\n      ? this.parentNode.offsetWidth > 768\n      : window.outerWidth > 768;\n  }\n\n  get orientation() {\n    return this.hasAttribute(\"vertical\") ? \"vertical\" : \"horizontal\";\n  }\n\n  get settings() {\n    let settings = {};\n    const variant = this.getAttribute(\"pfe-variant\");\n\n    if (variant === \"primary\") {\n      settings.variant = variant;\n      settings.color = \"striped\";\n    } else if (variant === \"secondary\") {\n      settings.variant = variant;\n      settings.color = \"dark\";\n    } else {\n      settings.color = \"lightest\";\n    }\n\n    return settings;\n  }\n\n  constructor() {\n    super(PfeContentSet, { delayRender: true });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (this.isTab) {\n      this._buildTabs();\n    } else {\n      this._buildAccordion();\n    }\n\n    this.render();\n  }\n\n  _buildAccordion() {\n    // Use a document fragment for efficiency\n    const fragment = document.createDocumentFragment();\n    // Create the accordion wrapper component\n    const accordion = document.createElement(\"pfe-accordion\");\n\n    // Iterate over each element in the light DOM\n    [...this.children].forEach(child => {\n      // If one of them has the attribute indicating they belong in the header region\n      if (child.hasAttribute(\"pfe-content-set--header\")) {\n        // Create a header component\n        const header = document.createElement(\"pfe-accordion-header\");\n        // Append the light DOM element to that component\n        header.appendChild(child);\n        // Append the component to the accordion parent\n        accordion.appendChild(header);\n      }\n      // If one of them has the attribute indicating they belong in the panel region\n      if (child.hasAttribute(\"pfe-content-set--panel\")) {\n        // Create a panel component\n        const panel = document.createElement(\"pfe-accordion-panel\");\n        // Append the light DOM element to that component\n        panel.appendChild(child);\n        // Append the component to the accordion parent\n        accordion.appendChild(panel);\n      }\n    });\n\n    // Append the accordion to the document fragment\n    fragment.appendChild(accordion);\n\n    // Pass the color property down to the accordion component\n    if (this.settings.color) {\n      accordion.setAttribute(\"color\", this.settings.color);\n    }\n\n    // Append the fragment to the component\n    this.appendChild(fragment);\n  }\n\n  _buildTabs() {\n    // Use a document fragment for efficiency\n    const fragment = document.createDocumentFragment();\n    // Create the tabs wrapper component\n    const tabs = document.createElement(\"pfe-tabs\");\n\n    // Iterate over each element in the light DOM\n    [...this.children].forEach(child => {\n      // If one of them has the attribute indicating they belong in the header region\n      if (child.hasAttribute(\"pfe-content-set--header\")) {\n        // Create a tab component\n        const header = document.createElement(\"pfe-tab\");\n        // Set the attribute indicating its slot\n        header.setAttribute(\"slot\", \"tab\");\n        // Append the light DOM element to that component\n        header.appendChild(child);\n        // Append the component to the tabs parent\n        tabs.appendChild(header);\n      }\n      // If one of them has the attribute indicating they belong in the panel region\n      if (child.hasAttribute(\"pfe-content-set--panel\")) {\n        // Create the panel component\n        const panel = document.createElement(\"pfe-tab-panel\");\n        // Set the attribute indicating its slot\n        panel.setAttribute(\"slot\", \"panel\");\n        // Append the light DOM element to that component\n        panel.appendChild(child);\n        // Append the component to the tabs parent\n        tabs.appendChild(panel);\n      }\n    });\n\n    // Append the tabs to the document fragment\n    fragment.appendChild(tabs);\n\n    // If the orientation is set to vertical, add that attribute to the tabs\n    if (this.orientation === \"vertical\") {\n      tabs.setAttribute(\"vertical\", true);\n    }\n\n    // Pass the variant attribute down to the tabs component\n    if (this.settings.variant) {\n      tabs.setAttribute(\"pfe-variant\", this.settings.variant);\n    }\n\n    // Append the fragment to the component\n    this.appendChild(fragment);\n  }\n}\n\nPFElement.create(PfeContentSet);\n\nexport default PfeContentSet;\n"],"names":[],"mappings":";;;;AAAA;;;;;;;;;;;;;;;;;;;;;;AAsBA,AAIA;AACA,MAAM,aAAa,SAAS,SAAS,CAAC;EACpC,IAAI,IAAI,GAAG;IACT,OAAO,CAAC;;;;;aAKC,CAAC,CAAC;GACZ;;EAED,WAAW,GAAG,GAAG;IACf,OAAO,iBAAiB,CAAC;GAC1B;;EAED,IAAI,WAAW,GAAG;IAChB,OAAO,sBAAsB,CAAC;GAC/B;;EAED,IAAI,QAAQ,GAAG;IACb,OAAO,sBAAsB,CAAC;GAC/B;;EAED,WAAW,OAAO,GAAG;IACnB,OAAO,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC;GAChC;;EAED,IAAI,KAAK,GAAG;IACV,OAAO,IAAI,CAAC,UAAU;QAClB,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,GAAG;QACjC,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC;GAC7B;;EAED,IAAI,WAAW,GAAG;IAChB,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,UAAU,GAAG,YAAY,CAAC;GAClE;;EAED,IAAI,QAAQ,GAAG;IACb,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;;IAEjD,IAAI,OAAO,KAAK,SAAS,EAAE;MACzB,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;MAC3B,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC;KAC5B,MAAM,IAAI,OAAO,KAAK,WAAW,EAAE;MAClC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;MAC3B,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC;KACzB,MAAM;MACL,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC;KAC7B;;IAED,OAAO,QAAQ,CAAC;GACjB;;EAED,WAAW,GAAG;IACZ,KAAK,CAAC,aAAa,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;GAC7C;;EAED,iBAAiB,GAAG;IAClB,KAAK,CAAC,iBAAiB,EAAE,CAAC;;IAE1B,IAAI,IAAI,CAAC,KAAK,EAAE;MACd,IAAI,CAAC,UAAU,EAAE,CAAC;KACnB,MAAM;MACL,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;;IAED,IAAI,CAAC,MAAM,EAAE,CAAC;GACf;;EAED,eAAe,GAAG;;IAEhB,MAAM,QAAQ,GAAG,QAAQ,CAAC,sBAAsB,EAAE,CAAC;;IAEnD,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;;;IAG1D,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,KAAK,IAAI;;MAElC,IAAI,KAAK,CAAC,YAAY,CAAC,yBAAyB,CAAC,EAAE;;QAEjD,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC;;QAE9D,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;QAE1B,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;OAC/B;;MAED,IAAI,KAAK,CAAC,YAAY,CAAC,wBAAwB,CAAC,EAAE;;QAEhD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;;QAE5D,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;QAEzB,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;OAC9B;KACF,CAAC,CAAC;;;IAGH,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;;;IAGhC,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;MACvB,SAAS,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KACtD;;;IAGD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;GAC5B;;EAED,UAAU,GAAG;;IAEX,MAAM,QAAQ,GAAG,QAAQ,CAAC,sBAAsB,EAAE,CAAC;;IAEnD,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;;;IAGhD,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,KAAK,IAAI;;MAElC,IAAI,KAAK,CAAC,YAAY,CAAC,yBAAyB,CAAC,EAAE;;QAEjD,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;;QAEjD,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;;QAEnC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;QAE1B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;OAC1B;;MAED,IAAI,KAAK,CAAC,YAAY,CAAC,wBAAwB,CAAC,EAAE;;QAEhD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;;QAEtD,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;;QAEpC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;QAEzB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;OACzB;KACF,CAAC,CAAC;;;IAGH,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;;;IAG3B,IAAI,IAAI,CAAC,WAAW,KAAK,UAAU,EAAE;MACnC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;KACrC;;;IAGD,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;MACzB,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;KACzD;;;IAGD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;GAC5B;CACF;;AAED,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;;;;"}