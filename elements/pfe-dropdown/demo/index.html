<!DOCTYPE html>
<html>

<head>
  <title>PatternFly Elements: Dropdown Demo</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

  <link rel="stylesheet" type="text/css" href="../../pfe-styles/dist/red-hat-font.min.css">

  <!-- Stylesheets for testing light DOM styles.
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap-reboot.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/typebase.css/0.5.0/typebase.css">
    -->

  <link rel="stylesheet" href="../../pfe-styles/dist/pfe-base.css" />
  <link rel="stylesheet" href="../../pfe-styles/dist/pfe-context.css" />
  <link rel="stylesheet" href="../../pfe-styles/dist/pfe-layouts.css" />

  <noscript>
    <link href="../../pfelement/dist/pfelement--noscript.min.css" rel="stylesheet" />
  </noscript>

  <link href="../../pfelement/dist/pfelement.min.css" rel="stylesheet" />

  <!-- uncomment the es5-adapter if you're using the umd version -->
  <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.4.1/custom-elements-es5-adapter.js"></script>
  <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.4.1/webcomponents-bundle.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js"></script>
  <script>
    require([
      "../dist/pfe-dropdown.umd.js",
      "../../pfe-band/dist/pfe-band.umd.js",
      "../../pfe-card/dist/pfe-card.umd.js"
    ]);

  </script>
</head>
<style>
  body {
    position: relative;
  }

</style>

<body unresolved>
  <pfe-band color="accent" size="small">
    <h1>&lt;pfe-dropdown&gt;</h1>
  </pfe-band>
  <pfe-band color="lightest" size="small" use-grid
    style="--pfe-band__body--layout: repeat(auto-fill, minmax(300px, 1fr));">
    <pfe-card color="lightest" style="overflow: unset;">
      <h2>Expandable dropdown</h2>

      <pfe-dropdown label="Dropdown" id="dropdown">
        <pfe-dropdown-item item-type="link">
          <a href="https://bit.ly/3b9wvWg">Link 1</a>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="link">
          <a href="https://bit.ly/3b9wvWg">Link 2</a>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="link" disabled>
          <a href="https://bit.ly/3b9wvWg">Link 3</a>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="separator"></pfe-dropdown-item>
        <pfe-dropdown-item item-type="action">
          <button>Action 1</button>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="action" is_disabled>
          <button>Action 2</button>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="link">
          <a href="https://bit.ly/3b9wvWg">Link 4</a>
        </pfe-dropdown-item>
      </pfe-dropdown>
      <p id="example-dropdown-1">Selected Action: <span id="example-action-1"></span></p>
    </pfe-card>

    <pfe-card color="lightest" style="overflow: unset;">
      <h2>Dropdown with custom dropdown options</h2>
      <pfe-dropdown label="Dropdown" id="dropdown-with-custom-options">
      </pfe-dropdown>
      <p id="example-dropdown-2">Selected Action: <span id="example-action-2"></span></p>
    </pfe-card>

    <pfe-card color="lightest" style="overflow: unset;">
      <h2>Disabled dropdown</h2>

      <pfe-dropdown label="Disabled" disabled>
        <pfe-dropdown-item item-type="link">
          <a href="https://bit.ly/3b9wvWg">Link 1</a>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="link">
          <a href="https://bit.ly/3b9wvWg">Link 2</a>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="link" disabled>
          <a href="https://bit.ly/3b9wvWg">Link 2</a>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="separator"></pfe-dropdown-item>
        <pfe-dropdown-item item-type="action">
          <button>Action 1</button>
        </pfe-dropdown-item>
      </pfe-dropdown>
    </pfe-card>

    <pfe-card color="lightest" style="overflow: unset;">
      <h2>Expandable dropdown with all disabled options</h2>

      <pfe-dropdown label="Dropdown">
        <pfe-dropdown-item item-type="link" disabled>
          <a href="https://bit.ly/3b9wvWg">Link 1</a>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="link" disabled>
          <a href="https://bit.ly/3b9wvWg">Link 2</a>
        </pfe-dropdown-item>
        <pfe-dropdown-item item-type="link" disabled>
          <a href="https://bit.ly/3b9wvWg">Link 3</a>
        </pfe-dropdown-item>
      </pfe-dropdown>
    </pfe-card>
  </pfe-band>

  <script>
    let dropdown = document.querySelector("pfe-dropdown");
    document.querySelector("#example-dropdown-1").style.display = "none";
    dropdown.addEventListener("pfe-dropdown:change", function (event) {
      document.querySelector("#example-action-1").textContent =
        event.detail.action;
      document.querySelector("#example-dropdown-1").style.display = "block";
    });

    let dropdownWithCustomOptions = document.querySelector("#dropdown-with-custom-options");
    customElements.whenDefined("pfe-dropdown").then(function () {
      // Default Options
      dropdownWithCustomOptions.pfeDropdownOptions = [{
          href: "https://bit.ly/3b9wvWg",
          text: "Link 1",
          type: "link",
          disabled: false
        },
        {
          href: "https://bit.ly/3b9wvWg",
          text: "Link 2",
          type: "link",
          disabled: false
        },
        {
          href: "https://bit.ly/3b9wvWg",
          text: "Link 3",
          type: "link",
          disabled: true
        },
        {
          type: "separator"
        },
        {
          text: "Action 1",
          type: "action",
          disabled: false
        },
        {
          text: "Action 2",
          type: "action",
          disabled: true
        }
      ];
      // Options passed via addDropdownOptions() method
      dropdownWithCustomOptions.addDropdownOptions(
        [{
          href: "https://bit.ly/3b9wvWg",
          text: "Link 4",
          type: "link",
          disabled: false
        }]
      );
    });
    document.querySelector("#example-dropdown-2").style.display = "none";
    dropdownWithCustomOptions.addEventListener("pfe-dropdown:change", function (event) {
      document.querySelector("#example-action-2").textContent =
        event.detail.action;
      document.querySelector("#example-dropdown-2").style.display = "block";
    });

  </script>
</body>

</html>
