!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min"),require("../../pfe-accordion/dist/pfe-accordion.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min","../../pfe-accordion/dist/pfe-accordion.umd.min"],t):(e=e||self).PfeJumpLinks=t(e.PFElement,e.PfeAccordion)}(this,function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<i;){var r=t[o];if(e.call(n,r,o,t))return o;o++}return-1}}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null});var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e};function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0!==n){if("value"in n)return n.value;n=n.get;return void 0!==n?n.call(i):void 0}if(null!==(e=Object.getPrototypeOf(e)))return r(e,t,i)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},e=(a(l,t),n(l,[{key:"html",get:function(){return'\n<style>slot[name=heading][sr-only]{position:absolute;overflow:hidden;clip:rect(0,0,0,0);height:1px;width:1px;margin:-1px;padding:0;border:0}:host{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Red Hat Text",RedHatText,Overpass,Overpass,Arial,sans-serif;font-family:var(--pfe-theme--font-family, "Red Hat Text", "RedHatText", "Overpass", Overpass, Arial, sans-serif);font-weight:400;font-weight:var(--pfe-theme--font-weight--normal,400);display:block;position:-webkit-sticky;position:sticky;z-index:80;z-index:var(--pfe-theme--zindex--jumplinks,80);top:0;padding:0}@media (min-width:992px){:host([horizontal][color=darkest]){background-color:#151515;background-color:var(--pfe-theme--color--surface--darkest,#151515);--context:var(--pfe-theme--color--surface--darkest--context, dark);--pfe-broadcasted--text:var(--pfe-theme--color--text--on-dark, #fff);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted--on-dark, #d2d2d2);--pfe-broadcasted--link:var(--pfe-theme--color--link--on-dark, #73bcf7);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover--on-dark, #bee1f4);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus--on-dark, #bee1f4);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited--on-dark, #bee1f4);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration--on-dark, none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover--on-dark, underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus--on-dark, underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited--on-dark, none)}}@media (min-width:992px){:host([horizontal][color=darker]){background-color:#3c3f42;background-color:var(--pfe-theme--color--surface--darker,#3c3f42);--context:var(--pfe-theme--color--surface--darker--context, dark);--pfe-broadcasted--text:var(--pfe-theme--color--text--on-dark, #fff);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted--on-dark, #d2d2d2);--pfe-broadcasted--link:var(--pfe-theme--color--link--on-dark, #73bcf7);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover--on-dark, #bee1f4);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus--on-dark, #bee1f4);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited--on-dark, #bee1f4);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration--on-dark, none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover--on-dark, underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus--on-dark, underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited--on-dark, none)}}@media (min-width:992px){:host([horizontal][color=lightest]){background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);--context:var(--pfe-theme--color--surface--lightest--context, light);--pfe-broadcasted--text:var(--pfe-theme--color--text, #151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted, #6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link, #06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover, #004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus, #004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited, #6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration, none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover, underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus, underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited, none)}}@media (min-width:992px){:host([horizontal][color=lighter]){background-color:#f0f0f0;background-color:var(--pfe-theme--color--surface--lighter,#f0f0f0);--context:var(--pfe-theme--color--surface--lighter--context, light);--pfe-broadcasted--text:var(--pfe-theme--color--text, #151515);--pfe-broadcasted--text--muted:var(--pfe-theme--color--text--muted, #6a6e73);--pfe-broadcasted--link:var(--pfe-theme--color--link, #06c);--pfe-broadcasted--link--hover:var(--pfe-theme--color--link--hover, #004080);--pfe-broadcasted--link--focus:var(--pfe-theme--color--link--focus, #004080);--pfe-broadcasted--link--visited:var(--pfe-theme--color--link--visited, #6753ac);--pfe-broadcasted--link-decoration:var(--pfe-theme--link-decoration, none);--pfe-broadcasted--link-decoration--hover:var(--pfe-theme--link-decoration--hover, underline);--pfe-broadcasted--link-decoration--focus:var(--pfe-theme--link-decoration--focus, underline);--pfe-broadcasted--link-decoration--visited:var(--pfe-theme--link-decoration--visited, none)}}:host([stuck][horizontal]){-webkit-box-shadow:0 .0625rem .125rem 0 rgba(3,3,3,.12),0 0 .125rem 0 rgba(3,3,3,.06) 0 .0625rem .125rem 0 rgba(3,3,3,.2);box-shadow:0 .0625rem .125rem 0 rgba(3,3,3,.12),0 0 .125rem 0 rgba(3,3,3,.06) 0 .0625rem .125rem 0 rgba(3,3,3,.2);-webkit-box-shadow:var(--pfe-theme--box-shadow--sm,0 .0625rem .125rem 0 rgba(3,3,3,.12),0 0 .125rem 0 rgba(3,3,3,.06)0 .0625rem .125rem 0 rgba(3,3,3,.2));box-shadow:var(--pfe-theme--box-shadow--sm,0 .0625rem .125rem 0 rgba(3,3,3,.12),0 0 .125rem 0 rgba(3,3,3,.06)0 .0625rem .125rem 0 rgba(3,3,3,.2))}.pfe-jump-links-nav__heading{margin-top:0;margin-bottom:.5rem;margin-bottom:var(--pfe-theme--content-spacer--body--sm,.5rem)}.pfe-jump-links-nav__heading h3,::slotted([slot=heading]){color:#3c3f42;color:var(--pfe-broadcasted--text,#3c3f42);margin:0;font-size:.875rem;font-size:var(--pfe-jump-links__heading--FontSize,var(--pf-global--FontSize--sm,.875rem));font-weight:400;font-weight:var(--pfe-theme--font-weight--normal,400);text-transform:uppercase;text-transform:var(--pfe-jump-links__heading--TextTransform,uppercase)}slot[name=logo]{display:none}slot[name=cta]{display:none}nav{visibility:visible;margin:0;list-style:none;padding:0}pfe-accordion-panel nav{width:100%}@media (min-width:992px){:host([horizontal][no-header]) nav{padding-top:1px;padding-bottom:0}}#container{padding:32px 0}pfe-accordion-panel #container{padding:24px 0}ul{padding:0;margin:0;border-left:1px solid #d2d2d2;border-left:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2)}li{display:block;position:relative;margin-left:calc(1px * -1);margin-left:calc(var(--pfe-theme--surface--border-width,1px) * -1)}.sub-nav li{margin-left:0}li[expand] ul{height:auto;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}li[expand] .sub-nav{display:table;height:auto}li::before{position:absolute;content:"";top:0;left:0;background-color:transparent;width:calc(4px - 0px);width:calc(var(--pfe-theme--surface--border-width--heavy,4px) - 0px);height:calc(100% - 0px);background-color:transparent}li :hover::before,li:not([expand]) li:hover::before{background-color:#d2d2d2;background-color:var(--pfe-theme--color--ui-disabled,#d2d2d2)}li[active]::before,li[expand]::before{background-color:#06c;background-color:var(--pfe-jump-links--accent,var(--pfe-jump-links--BorderColor,var(--pfe-theme--color--ui-accent,#06c)));z-index:2}a{position:relative;color:#6a6e73;color:var(--pfe-theme--color--ui-disabled--text,#6a6e73);font-size:1rem;font-size:var(--pfe-jump-links--FontSize,var(--pf-global--FontSize--md,1rem));text-decoration:none;line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);padding:calc(calc(1.5rem / 6) * 2) calc(calc(1.5rem / 3) * 2);padding:calc(var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6)) * 2) calc(var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3)) * 2)}a,a:focus+ul>li>a,li:hover a,li[expand] a{display:table}li>a:hover,li[active]>a{color:#3c3f42;color:var(--pfe-broadcasted--text,#3c3f42)}:host([on=dark]) a{color:#d2d2d2;color:var(--pfe-theme--color--text--muted--on-dark,#d2d2d2)}:host([on=saturated]) a{color:#d2d2d2;color:var(--pfe-theme--color--text--muted--on-saturated,#d2d2d2)}.has-sub-section a{padding-bottom:calc(1.5rem / 6);padding-bottom:var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6))}.sub-section a{margin-left:calc(1rem * .75);margin-left:calc(var(--pfe-theme--container-spacer,1rem) * .75);font-size:calc(1rem * .85);font-size:calc(var(--pfe-jump-links--FontSize,var(--pf-global--FontSize--md,1rem)) * .85);padding:calc(1.5rem / 6) calc(calc(1.5rem / 3) * 2);padding:var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 6)) calc(var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3)) * 2)}@media (min-width:992px){.sub-section a{display:none}}.sub-section a:last-child{padding-bottom:calc(1.5rem / 3);padding-bottom:var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,1.5rem)/ 3))}a:focus:focus-visible{outline:0;position:relative}a:focus:focus-visible::after{position:absolute;content:"";top:0;left:0;width:calc(100% + 3px);width:calc(100% + var(--pfe-theme--ui--border-width--active,3px));height:calc(100% + 3px);height:calc(100% + var(--pfe-theme--ui--border-width--active,3px));border-radius:2px;border-radius:var(--pfe-theme--ui--border-radius,2px);border:2px solid transparent;border:var(--pfe-theme--ui--border-width--md,2px) var(--pfe-theme--ui--border-style,solid) transparent}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){a:focus:focus-visible::after{height:100%}}a:focus:focus-visible:focus::after{border-color:#06c;border-color:var(--pfe-theme--color--link,#06c)}a:focus:focus-visible:focus:not(:focus-visible)::after{border:unset}ul ul{margin:0;padding:0;overflow-y:hidden;-webkit-transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:flex 1s linear;transition:flex 1s linear,-webkit-box-flex 1s linear,-webkit-flex 1s linear,-ms-flex 1s linear}ul ul,ul ul li{border-left:none!important}pfe-accordion{border:1px solid #d2d2d2;border:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2);--context:light;--pfe-accordion--BackgroundColor:var(--pfe-theme--color--surface--lightest, #fff)}:host([color=darkest]) pfe-accordion{--context:dark;--pfe-accordion--BackgroundColor:var(--pfe-theme--color--surface--darkest, #151515);--pfe-theme--color--ui-accent--on-dark:transparent}pfe-accordion,pfe-accordion-panel.animating,pfe-accordion-panel[expanded]{--pfe-accordion--accent:transparent;--pfe-accordion--BorderColor:transparent;--pfe-accordion--accent:transparent;--pfe-accordion--BorderTopWidth:0;--pfe-accordion--BorderBottomWidth:0;--pfe-accordion--panel-container--Padding:0 0 0 calc(var(--pfe-accordion__base--Padding,var(--pfe-theme--container-spacer,1rem)) * 1.5)}@media screen and (min-width:992px){:host([horizontal]){width:100%;background-color:#fff;background-color:var(--pfe-jump-links--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff));--context:var(--pfe-jump-links--context, var(--pfe-theme--color--surface--lightest--context, light));z-index:calc(80 + 1);z-index:calc(var(--pfe-theme--zindex--jumplinks,80) + 1);border:none;padding:0}:host([horizontal]) .pfe-jump-links-nav__heading{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-align-self:center;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:block;margin:0;padding-bottom:1rem;padding-bottom:var(--pfe-theme--container-padding,1rem);border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#d2d2d2)}:host([horizontal]) .pfe-jump-links-nav__heading h3,:host([horizontal]) ::slotted([slot=heading]){text-align:center;text-align:var(--pfe-jump-links__heading--TextAlign,center)}:host([horizontal]) ::slotted([slot=logo]){position:absolute;max-height:calc(1rem * 3.5);max-height:calc(var(--pfe-theme--container-spacer,1rem) * 3.5);max-width:calc(1rem * 14);max-width:calc(var(--pfe-theme--container-spacer,1rem) * 14);top:1rem;top:var(--pfe-theme--container-spacer,1rem);left:calc(1rem * 4);left:calc(var(--pfe-theme--container-spacer,1rem) * 4)}:host([horizontal]) ::slotted([slot=cta]){position:absolute;top:calc(1rem * 1);top:calc(var(--pfe-theme--container-spacer,1rem) * 1);right:calc(1rem * 4);right:calc(var(--pfe-theme--container-spacer,1rem) * 4)}}@media screen and (min-width:992px){:host([horizontal]) nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;padding-top:32px;padding-bottom:8px;max-width:calc(992px - (var(--pfe-jump-links--Padding--horizontal) * 4));max-width:var(--pfe-jump-links--Width,calc(992px - (var(--pfe-jump-links--Padding--horizontal) * 4)))}}@media screen and (min-width:1200px){:host([horizontal]) nav{max-width:calc(1200px - (var(--pfe-jump-links--Padding--horizontal) * 4));max-width:var(--pfe-jump-links--Width,calc(1200px - (var(--pfe-jump-links--Padding--horizontal) * 4)))}}@media screen and (min-width:992px){:host([horizontal]) #container{padding:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}:host([horizontal]) ul{border:none;text-align:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;width:auto;margin:0 auto}:host([horizontal]) li{margin-left:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-top:calc(1px * -1);margin-top:calc(var(--pfe-theme--surface--border-width,1px) * -1)}:host([horizontal]) li::before{height:4px;height:var(--pfe-theme--surface--border-width--heavy,4px);width:100%}:host([horizontal]) a{padding:16px;text-decoration:none;font-size:16px;color:var(--pfe-broadcasted--text--muted,)}:host([horizontal]) a:hover,:host([horizontal]) a[active]{color:#3c3f42;color:var(--pfe-broadcasted--text,#3c3f42)}}:host([hidden]){display:none!important} /*# sourceMappingURL=pfe-jump-links-nav.min.css.map */</style>\n'+(this.isMobile?'\n<pfe-accordion>\n  <pfe-accordion-header>\n    <slot class="pfe-jump-links-nav__heading" name="heading">\n      <h3>'+(this.srText||"Jump to section")+"</h3>\n    </slot>\n  </pfe-accordion-header>\n  <pfe-accordion-panel>\n":"")+"\n\n<nav>\n  "+(this.isMobile?"":'<slot class="pfe-jump-links-nav__heading" name="heading"'+(this.noHeader?" sr-only":"")+">\n    <h3>"+(this.srText||"Jump to section")+"</h3>\n  </slot>")+"\n  "+(this.horizontal?'<slot class="pfe-jump-links-nav__logo" name="logo"></slot>':"")+'\n  <div id="container"></div>\n  '+(this.horizontal?'<slot class="pfe-jump-links-nav__cta" name="cta"></slot>':"")+"\n</nav>\n\n"+(this.isMobile?"\n  </pfe-accordion-panel>\n</pfe-accordion>\n":"")}},{key:"templateUrl",get:function(){return"pfe-jump-links-nav.html"}},{key:"styleUrl",get:function(){return"pfe-jump-links-nav.scss"}},{key:"events",get:function(){return l.events}},{key:"isMobile",get:function(){if(this.mobileBreakpoint)return window.matchMedia("(max-width: "+this.mobileBreakpoint+")").matches;var e=t.breakpoint.lg.match(/([0-9]+)([a-z]*)/);return e.length<1?"991px":window.matchMedia("(max-width: "+(parseInt(e[1],10)-1)+e[2]+")").matches}},{key:"header",get:function(){return this.getSlot(["heading","pfe-jump-links-nav--heading"])[0]}},{key:"cta",get:function(){return this.getSlot(["link","pfe-jump-links-nav--link"])[0]}},{key:"logo",get:function(){return this.getSlot(["logo","pfe-jump-links-nav--logo"])[0]}},{key:"container",get:function(){return this.shadowRoot.querySelector("#container")}},{key:"panel",set:function(e){e&&(this._panel=e,this._panel.hasAttribute("scrolltarget")||this._panel.setAttribute("scrolltarget",this.id),this.emitEvent(l.events.change))},get:function(){var t=this;if(this._panel)return this._panel;if(this.id){var e=document.querySelector('[scrolltarget="'+this.id+'"],[pfe-c-scrolltarget="'+this.id+'"]');if(e)return e}var i=[];Promise.all([customElements.whenDefined("pfe-jump-links-panel")]).then(function(){var e=(i=customElements.get("pfe-jump-links-panel").instances||[]).filter(function(e){return e.getAttribute("scrolltarget")===t.id});return 1===e.length?e[0]:1===i.length?(t.id=t.randomId,i[0].setAttribute("scrolltarget",t.id),i[0]):void(1<i.length?t.warn("Cannot locate which panel is connected to this navigation element."+(t.id?' Please add scrolltarget="'+t.id+'" to the appropriate panel.':"")):t.warn("Cannot locate any panels on this page. Please see documentation for connecting the navigation and panel."))})}},{key:"sections",set:function(e){this._sections=e,this.emitEvent(l.events.change)},get:function(){if(this._sections)return this._sections;var e=this.panel;if(e||!this.autobuild){if(this.autobuild)return e.querySelectorAll(".pfe-jump-links-panel__section")||e.shadowRoot.querySelectorAll(".pfe-jump-links-panel__section")||e.querySelectorAll("[id]");var t=[].concat(p(this.querySelectorAll("ul > li > a[href]"))).map(function(e){return'[id="'+e.href.split("#").pop()+'"]'});return e.querySelectorAll(t.join(","))||document.querySelectorAll(t.join(","))}}},{key:"links",get:function(){return[].concat(p(this.container.querySelectorAll("a")))}},{key:"items",get:function(){return[].concat(p(this.shadowRoot.querySelectorAll("."+this.tag+"__item")))}},{key:"offsetValue",get:function(){if(this.offset)return this.offset;var e=this.cssVariable("pfe-jump-links--offset")||this.cssVariable("pfe-jump-links-panel--offset");if((e=e&&this._castPropertyValue({type:Number},parseInt(e,10)))&&0<=e)return e;var t=0,e=this.cssVariable("pfe-navigation--Height--actual");if((e=e&&this._castPropertyValue({type:Number},parseInt(e,10)))&&0<e&&(t=e),this.stuck&&(this.isMobile||this.horizontal))return t;e=this.cssVariable("pfe-jump-links--Height--actual");return(e=e&&this._castPropertyValue({type:Number},parseInt(e,10)))&&0<e&&(t+=e),t}}],[{key:"version",get:function(){return"1.11.2"}},{key:"tag",get:function(){return"pfe-jump-links-nav"}},{key:"PfeType",get:function(){return t.PfeTypes.Content}},{key:"events",get:function(){return{activeNavItem:"pfe-jump-links-panel:active-navItem",change:"pfe-jump-links-panel:change",stuck:"pfe-jump-links-nav:stuck",resize:"resize",scroll:"scroll",keyup:"keyup"}}},{key:"observer",get:function(){return{childList:!0,subtree:!0,characterData:!0}}},{key:"properties",get:function(){return{autobuild:{title:"Autobuild",type:Boolean},horizontal:{title:"Horizontal",type:Boolean,default:!1},srText:{title:"Screen reader text",type:String,default:"Jump to section"},color:{title:"Color",type:String,default:"lightest",values:["lightest","darkest"]},offset:{title:"Offset",type:Number},mobileBreakpoint:{title:"Mobile breakpoint (max-width)",type:String},accordionCollapseTiming:{title:"Number of ms to wait before collapsing the accordion on click",type:Number,default:750},stuck:{title:"Stickiness state",type:Boolean,attr:"stuck",observer:"_stickyHandler"},noHeader:{title:"Opt-out of the header region",type:Boolean},oldAutobuild:{alias:"autobuild",attr:"pfe-c-autobuild"},oldHorizontal:{alias:"horizontal",attr:"pfe-c-horizontal"},oldColor:{alias:"color",attr:"pfe-color"}}}}]),n(l,[{key:"connectedCallback",value:function(){var e,t;r(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"connectedCallback",this).call(this),this.isIE11?this.setAttribute("hidden",""):(this._attachListeners(l.events),!this.autobuild&&this._isValidLightDom()?this.updateLightDOM():this.autobuild&&this.build(),(t=this.querySelector("ul, ol"))?(this._toShadowDOM(t),this._updateOffset(),e=this._checkVisible(),t=this.getActive(),e&&0<=t?this.active(t):e&&this.active(0)):this.warn("Navigation could not be built."),this._observer.observe(this,l.observer))}},{key:"disconnectedCallback",value:function(){r(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"disconnectedCallback",this).call(this),this._dettachListeners(l.events)}},{key:"build",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.sections;if(e){e=[].concat(p(e)),this.isBuilding=!0;for(var t=void 0,i=this._buildWrapper(),n=i,o=n,r=0;r<e.length;r++){var a,s=e[r],l=s.classList.contains("sub-section"),c=s.classList.contains("has-sub-section"),d=s.id;d||(d=(a=s.previousElementSibling)&&a.classList.contains("pfe-jump-links__section--spacer")&&a.id?a.id:(s.id=this.randomId.replace("pfe-","pfe-jump-links--"),s.id)),t=this._buildItem({target:d,content:s.getAttribute("nav-label")||s.textContent,subsection:c},l),n.appendChild(t),c&&(o=n,n=this._buildWrapper("sub-nav"),t.appendChild(n)),e[r+1]&&!e[r+1].classList.contains("sub-section")&&(n=o||i)}this.isBuilding=!1,this.innerHTML="",this.appendChild(i)}}},{key:"closeAccordion",value:function(){var e;this.isMobile&&(e=this.shadowRoot.querySelector("pfe-accordion"),setTimeout(function(){Promise.all([customElements.whenDefined("pfe-accordion")]).then(function(){e.collapseAll()})},this.accordionCollapseTiming))}},{key:"rebuild",value:function(){var e,t=this;this.isBuilding?setTimeout(this.rebuild,10):((this.isMobile&&!this.shadowRoot.querySelector("pfe-accordion")||!this.isMobile&&this.shadowRoot.querySelector("pfe-accordion"))&&this.render(),e=void 0,(e=this.autobuild&&this.update?this.build():this.querySelector("ul"))&&this.container.innerHTML!==e.outerHTML.toString()&&(this.container.innerHTML=e.outerHTML.toString()),this._updateOffset(),this.active(this.getActive()),this.items.forEach(function(e){e.querySelector("a").addEventListener("click",t._clickHandler)})),this.update=!1}},{key:"active",value:function(t){var e,i,n,o=void 0,r=this.items;(o="number"==typeof t?t:r.findIndex(function(e){return e===t}))<0||o>=r.length||!r[o]||(this.clearActive(),i=(e=r[this.currentActive=o].closest("li")).closest("ul").closest("li"),n=e.classList.contains("sub-section"),r=e.classList.contains("has-sub-section"),e.setAttribute("active",""),r?e.setAttribute("expand",""):n&&i.setAttribute("expand",""),this.emitEvent(l.events.activeNavItem,{detail:{activeNavItem:o}}))}},{key:"getActive",value:function(){if(this.sections){var o=[].concat(p(this.sections)),r=this.offsetValue,e=o.filter(function(e,t){var i=window.innerHeight||document.documentElement.clientHeight,n=o[t+1],t=n?n.getBoundingClientRect().top:0,e=e.getBoundingClientRect().top;return 0<=e&&e<=i&&(!n||r<=t&&r-e<t-r)});if(e&&0!==e.length)return o.indexOf(e[0])}}},{key:"inactive",value:function(t){var e,i,n=void 0,o=this.items;(n="number"==typeof t?t:o.findIndex(function(e){return e===t}))<0||n>=o.length||!o[n]||(i=(e=o[n].closest("li")).closest("ul").closest("li"),o=e.classList.contains("sub-section"),n=e.classList.contains("has-sub-section"),e.removeAttribute("active"),n?e.removeAttribute("expand"):o&&i.removeAttribute("expand"))}},{key:"clearActive",value:function(){var t=this;this.items.forEach(function(e){return t.inactive(e)})}},{key:"_attachListeners",value:function(e){this.autobuild&&document.addEventListener(l.events.change,this._panelChangedHandler),window.addEventListener(e.resize,this._resizeHandler),window.addEventListener(e.scroll,this._scrollHandler),window.addEventListener(e.stuck,this._updateOffset)}},{key:"_dettachListeners",value:function(e){this._observer.disconnect(),document.removeEventListener(e.change,this._panelChangedHandler),window.removeEventListener(e.resize,this._resizeHandler),window.removeEventListener(e.scroll,this._scrollHandler),window.removeEventListener(e.keyup,this._keyboardHandler),window.removeEventListener(e.stuck,this._updateOffset)}},{key:"_buildItem",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=document.createElement("li");i.className=this.tag+"__item";var n=document.createElement("a");return n.className=this.tag+"__link",n.href="#"+e.target,n.setAttribute("data-target",e.target),n.innerHTML=e.content,e.subsection&&i.classList.add("has-sub-section"),t&&i.classList.add("sub-section"),i.appendChild(n),i}},{key:"_buildWrapper",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"pfe-jump-links-nav",t=document.createElement("ul");return t.className=e,t}},{key:"_siblingJumpLinks",value:function(){var t=this;return l.instances.filter(0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(e){return e!==t})}},{key:"_reportHeight",value:function(){var e=0,t=this._siblingJumpLinks(function(e){return e.stuck&&(e.horizontal||e.isMobile)});0<t.length&&(e=t[t.length-1].getBoundingClientRect().height);t=this.cssVariable("pfe-jump-links--Height--actual",null,document.body);t&&parseInt(t,10)===e||this.cssVariable("pfe-jump-links--Height--actual",e+"px",document.body)}},{key:"_isValidLightDom",value:function(){var e=!0;return this.hasLightDOM()&&(this.querySelector("ul")||this.querySelector("ol"))||this.autobuild||(this.warn("This component requires a list in the light DOM to .\nAlternatively, add the `autobuild` attribute to dynamically generate the list from the provided panel."),e=!1),this.logo&&!this.horizontal&&this.warn("The logo slot is NOT supported in vertical jump links."),this.cta&&!this.horizontal&&this.warn("The link slot is NOT supported in vertical jump links."),Number.isInteger(Number(this.customVar))&&this.warn("Using an integer with a unit is not supported for custom property --pfe-jump-links-panel--offset. The component strips the unit using parseInt(). For example so 1rem would become 1 and behave as if you had entered 1px. Values with a pixel unit will behave correctly."),e}},{key:"updateItem",value:function(e){var t=this;e.classList=this.tag+"__item"+(1<arguments.length&&void 0!==arguments[1]&&arguments[1]?" sub-section":""),e.querySelector("a").classList=this.tag+"__link";var i=e.querySelector("ul");i&&(e.classList.add("has-sub-section"),i.querySelectorAll(":scope > li").forEach(function(e){return t.updateItem(e,!0)}))}},{key:"updateLightDOM",value:function(){var t=this,e=this.querySelector("ul");e.classList=this.tag,e.querySelectorAll(":scope > li").forEach(function(e){return t.updateItem(e)})}},{key:"_toShadowDOM",value:function(e){var t=this;this.container.innerHTML!==e.outerHTML.toString()&&(this.container.innerHTML=e.outerHTML.toString()),this.links.forEach(function(e){e.addEventListener("click",t._clickHandler)})}},{key:"_checkVisible",value:function(){return this.isVisible=this.getBoundingClientRect().top<=document.documentElement.clientHeight&&0<=this.getBoundingClientRect().right&&0<=this.getBoundingClientRect().bottom&&this.getBoundingClientRect().left<=document.documentElement.clientWidth,this.isVisible}},{key:"_updateOffset",value:function(){this._reportHeight(),this.horizontal?this.style.top=this.offsetValue+"px":this.style.top=this.offsetValue+20+"px"}},{key:"_clickHandler",value:function(e){var t=e.target,i=t.closest("."+this.tag+"__item");this.active(i),this.sections&&((i=[].concat(p(this.sections)).findIndex(function(e){return e.id===t.hash.replace("#","")}))<0||(e.preventDefault(),this._clicked=!0,history.replaceState({},"",t.href),this.scrollToSection(i)))}},{key:"scrollToSection",value:function(e){var t=this,i=this.sections[e],n=this.offsetValue;this.stuck=!(this.getBoundingClientRect().top!==n);var o=window.pageYOffset+i.getBoundingClientRect().top;i.classList.contains("pfe-jump-links__section--spacer")||(o-=n,r=0,this.horizontal&&(r=this.getBoundingClientRect().height),0<(r=this.isMobile?this.shadowRoot.querySelector("pfe-accordion-header").getBoundingClientRect().height-this.getBoundingClientRect().height:r)&&(o-=r));var r,e=20;i.hasAttribute("offset")?(r=this._castPropertyValue({type:Number},parseInt(i.getAttribute("offset"),10)))&&(e=r):this.panel&&this.panel.offset&&(e=this.panel.offset),(o-=e)<0&&(o=0),window.scroll({top:o,behavior:"smooth"}),this.closeAccordion(),this.stuck=!(this.getBoundingClientRect().top!==n),setTimeout(function(){i.focus(),t._clicked=!1},1e3)}},{key:"_stickyHandler",value:function(e,t){e!==t&&(this._reportHeight(),this.emitEvent(l.events.stuck,{detail:{stuck:t}}))}},{key:"_scrollHandler",value:function(){var t=this;this._clicked||(clearTimeout(this._scrollHandler._tId),this._scrollHandler._tId=setTimeout(function(){var e;t._checkVisible(),t.isVisible&&(t.stuck=!(t.getBoundingClientRect().top!==t.offsetValue),0<=(e=t.getActive())&&e!==t.currentActive&&(t.currentActive=e,t.active(e)))},10))}},{key:"_resizeHandler",value:function(){this.rebuild()}},{key:"_mutationHandler",value:function(){this.autobuild||(this.update=!0,this.rebuild())}},{key:"_panelChangedHandler",value:function(){this.autobuild&&(this.update=!0,this._sections=null,this.rebuild())}}]),l);function l(){i(this,l);var e=s(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,{type:l.PfeType}));return e.currentActive,e.isBuilding=!1,e.isVisible=!1,e.update=!1,e._panel,e._sections,e._clicked=!1,e.build=e.build.bind(e),e.rebuild=e.rebuild.bind(e),e.active=e.active.bind(e),e.inactive=e.inactive.bind(e),e.clearActive=e.clearActive.bind(e),e.getActive=e.getActive.bind(e),e.closeAccordion=e.closeAccordion.bind(e),e.scrollToSection=e.scrollToSection.bind(e),e.updateItem=e.updateItem.bind(e),e.updateLightDOM=e.updateLightDOM.bind(e),e._buildWrapper=e._buildWrapper.bind(e),e._buildItem=e._buildItem.bind(e),e._isValidLightDom=e._isValidLightDom.bind(e),e._reportHeight=e._reportHeight.bind(e),e._updateOffset=e._updateOffset.bind(e),e._checkVisible=e._checkVisible.bind(e),e._stickyHandler=e._stickyHandler.bind(e),e._clickHandler=e._clickHandler.bind(e),e._scrollHandler=e._scrollHandler.bind(e),e._resizeHandler=e._resizeHandler.bind(e),e._mutationHandler=e._mutationHandler.bind(e),e._panelChangedHandler=e._panelChangedHandler.bind(e),e._observer=new MutationObserver(e._mutationHandler),e}a(c,t),n(c,[{key:"html",get:function(){return"<slot></slot>"}},{key:"sections",get:function(){return this.querySelectorAll("."+this.tag+"__section")}}],[{key:"version",get:function(){return"1.11.2"}},{key:"tag",get:function(){return"pfe-jump-links-panel"}},{key:"events",get:function(){return{change:this.tag+":change"}}},{key:"observer",get:function(){return{childList:!0,subtree:!0}}},{key:"PfeType",get:function(){return t.PfeTypes.Content}},{key:"properties",get:function(){return{offset:{title:"Offset",type:Number},scrolltarget:{title:"Scroll target",type:String},spacers:{title:"Inject spacers",type:Boolean,default:!1,observer:"_makeSpacers"},oldOffset:{alias:"offset",attr:"pfe-c-offset"},oldScrolltarget:{alias:"scrolltarget",attr:"pfe-c-scrolltarget"}}}}]),n(c,[{key:"connectedCallback",value:function(){r(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"connectedCallback",this).call(this),this._init()}},{key:"disconnectedCallback",value:function(){r(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"disconnectedCallback",this).call(this),this._observer.disconnect()}},{key:"_isValidMarkup",value:function(){0===[].concat(p(this.sections)).length&&this.warn("This panel does not contain any headings labeled with the "+this.tag+"__section class. Please add that class and an ID to any heading you would like surfaced in the jump links navigation.")}},{key:"_makeSpacers",value:function(){this.spacers&&(!this.sections||[].concat(p(this.sections)).length<=0||(this._observer.disconnect(),[].concat(p(this.sections)).forEach(function(e){var t=e.parentNode,i=e.previousElementSibling;i&&i.classList.contains("pfe-jump-links__section--spacer")||((i=document.createElement("div")).classList.add("pfe-jump-links__section--spacer"),t.insertBefore(i,e)),!e.id||i.id&&i.id===e.id||(i.id=e.id,e.removeAttribute("id"),e.setAttribute("data-target",i.id)),i.style.marginTop="calc(-1 * (var(--pfe-navigation--Height--actual, 0px) + var(--pfe-jump-links--Height--actual, 0px)))",i.style.height="calc(var(--pfe-navigation--Height--actual, 0px) + var(--pfe-jump-links--Height--actual, 0px))"}),this._observer.observe(this,c.observer)))}},{key:"_init",value:function(){this._isValidMarkup(),this._makeSpacers()}}]),n=c;function c(){i(this,c);var e=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,{type:c.PfeType}));return e._init=e._init.bind(e),e._makeSpacers=e._makeSpacers.bind(e),e._isValidMarkup=e._isValidMarkup.bind(e),e._observer=new MutationObserver(function(){e._init(),e.emitEvent(c.events.change,{})}),e}return t.create(e),t.create(n),{PfeJumpLinksNav:e,PfeJumpLinksPanel:n}});
//# sourceMappingURL=pfe-jump-links.umd.min.js.map
