{"version":3,"file":"pfe-pagination.js","sources":["pfe-pagination.js"],"sourcesContent":["/*\n * Copyright 2019 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../pfelement/pfelement.js\";\n\nclass PfePagination extends PFElement {\n  get html() {\n    return `<style>:host {\n  display: block; }\n\n:host([hidden]) {\n  display: none; }\n\n:focus:not(:focus-visible) {\n  outline: none; }\n\nnav *, nav *::before, nav *::after {\n  box-sizing: border-box; }\n\nnav ul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  align-items: baseline; }\n  nav ul li {\n    margin: 1px;\n    display: flex; }\n    nav ul li .ellipses {\n      display: block;\n      padding: 0 calc(var(--pfe-theme--font-size, 16px) * 0.75);\n      line-height: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      min-height: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      min-width: calc( var(--pfe-theme--font-size, 16px) * 2.5); }\n    nav ul li > a {\n      display: block;\n      padding: 0 calc(var(--pfe-theme--font-size, 16px) * 0.75);\n      line-height: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      min-height: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      min-width: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      border: var(--pfe-theme--ui--border-width, 1px) var(--pfe-theme--ui--border-style, solid) transparent;\n      background: var(--pfe-theme--color--ui-subtle, #f3f3f3);\n      color: var(--pfe-theme--color--ui-subtle--text, #333);\n      text-align: center;\n      text-decoration: none;\n      vertical-align: middle; }\n      nav ul li > a:hover, nav ul li > a:focus, nav ul li > a:active {\n        background: var(--pfe-theme--color--ui-base, #0477a4);\n        color: var(--pfe-theme--color--ui-base--text, #fff); }\n      nav ul li > a[aria-current] {\n        background: var(--pfe-theme--color--ui-complement, #464646);\n        color: var(--pfe-theme--color--ui-complement--text, #fff); }\n    nav ul li#next {\n      order: 10; }\n\n#jump {\n  margin: 0 var(--pfe-theme--container-spacer, 1rem); }\n  #jump a {\n    color: var(--pfe-theme--color--ui-link, #06c);\n    text-decoration: none; }\n    #jump a:hover {\n      color: var(--pfe-theme--color--ui-link--hover, #003366);\n      text-decoration: underline; }\n    #jump a:focus {\n      color: var(--pfe-theme--color--ui-link--focus, #003366);\n      text-decoration: underline; }\n\n#currentPageInput {\n  margin-right: calc(var(--pfe-theme--content-spacer, 1rem) * 0.5);\n  padding: 0 calc(var(--pfe-theme--font-size, 16px) * 0.75);\n  line-height: calc(var(--pfe-theme--font-size, 16px) * 2.5);\n  min-height: calc(var(--pfe-theme--font-size, 16px) * 2.5);\n  border: var(--pfe-theme--ui--border-width, 1px) var(--pfe-theme--ui--border-style, solid) var(--pfe-theme--color--surface--border, #dfdfdf);\n  box-shadow: var(--pfe-theme--box-shadow--input, );\n  width: 4em;\n  font-size: inherit; }</style>\n<nav role=\"navigation\" aria-label=\"Pagination\">\n  <ul>\n    ${this.showJump ? `\n      ${!this.showPages ? `\n        <li><a href=\"#\" id=\"previous\">${this.previousText}</a></li>\n        <li><a href=\"#\" id=\"next\">${this.nextText}</a></li>\n      ` : ``}\n      <li id=\"jump\">\n        <form>\n          <input\n            type=\"number\"\n            id=\"currentPageInput\"\n            value=\"${this.currentPage}\"\n            min=\"1\"\n            max=\"${this.totalPages}\"> of\n          <a href=\"#\" id=\"lastPage\" page=\"${this.totalPages}\">${this.totalPages}</a>\n        </form>\n      </li>\n    ` : ``}\n    ${this.showPages ? `\n      <li><a href=\"#\" id=\"previous\">${this.previousText}</a></li>\n      ${this.pages.map(page => `\n        <li>\n          ${page.ellipsize ? `\n            <div class=\"ellipses\">${page.text}</div>\n          ` : `\n            <a\n              href=\"#\"\n              class=\"page\"\n              page=\"${page.text}\"\n              aria-label=\"${page.ariaLabel}\"\n              ${this.currentPage == page.text ? ` aria-current=\"true\"` : `` }>\n              ${page.text}\n            </a>\n          `}\n        </li>\n      `).join(\"\\n\")}\n      <li><a href=\"#\" id=\"next\">${this.nextText}</a></li>\n    `: ``}\n  </ul>\n</nav>`;\n  }\n\n  static get tag() {\n    return \"pfe-pagination\";\n  }\n\n  get templateUrl() {\n    return \"pfe-pagination.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-pagination.scss\";\n  }\n\n  get showPages() {\n    return this.hasAttribute(\"show-pages\");\n  }\n\n  get showJump() {\n    return this.hasAttribute(\"show-jump\");\n  }\n\n  get totalPages() {\n    return Number(this.getAttribute(\"total-pages\"));\n  }\n\n  get currentPage() {\n    return Number(this.getAttribute(\"current-page\"));\n  }\n\n  set currentPage(val) {\n    let page = Number(val);\n\n    if (page < 1) {\n      page = 1;\n    }\n\n    if (page > this.totalPages) {\n      page = this.totalPages;\n    }\n\n    this.setAttribute(\"current-page\", page);\n\n    this.dispatchEvent(\n      new CustomEvent(`${PfePagination.tag}:page-change`, {\n        detail: {\n          page: page\n        },\n        bubbles: true\n      })\n    );\n  }\n\n  static get observedAttributes() {\n    return [\"total-pages\", \"show-jump\", \"show-pages\", \"current-page\"];\n  }\n\n  constructor() {\n    super(PfePagination, {\n      delayRender: true\n    });\n\n    this.previousText = \"Previous\";\n    this.nextText = \"Next\";\n    this.pages = [];\n\n    this._clickHandler = this._clickHandler.bind(this);\n    this._submitHandler = this._submitHandler.bind(this);\n    this.previousPage = this.previousPage.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this._childrenAvailable = this._childrenAvailable.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._isReady();\n\n    this._observer = new MutationObserver(this._childrenAvailable);\n\n    this._observer.observe(this, {\n      childList: true\n    });\n  }\n\n  disconnectedCallback() {\n    this._observer.disconnect();\n  }\n\n  _isReady() {\n    if (this.firstChild) {\n      if (this._observer) {\n        this._observer.disconnect();\n      }\n      \n      this._childrenAvailable();\n    }\n  }\n\n  _childrenAvailable() {\n    const previousControl = this.querySelector('[control=\"previous\"]');\n    const nextControl = this.querySelector('[control=\"next\"]');\n\n    this.previousText = previousControl.textContent || \"Previous\";\n    this.nextText = nextControl.textContent || \"Next\";\n\n    this._setup();\n    this._rendered = true;\n  }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    if (!this._rendered) {\n      return;\n    }\n\n    this._setup();\n  }\n\n  previousPage(event) {\n    if (event) {\n      event.preventDefault();\n    }\n\n    this.currentPage -= 1;\n  }\n\n  nextPage(event) {\n    if (event) {\n      event.preventDefault();\n    }\n\n    this.currentPage += 1;\n  }\n\n  _setup() {\n    this.maxPagesShown = this.showJump && this.showPages ? 7 : 9;\n\n    if (this.maxPagesShown > this.totalPages) {\n      this.maxPagesShown = this.totalPages;\n    }\n\n    if (this.showPages) {\n      const truncatePageNumbers = this.totalPages > this.maxPagesShown;\n      const loopPages = truncatePageNumbers\n        ? this.maxPagesShown\n        : this.totalPages;\n      const mean = Math.ceil(this.maxPagesShown / 2);\n      const minMaxDistance = mean - 1;\n      const ellipsizeStart = this.currentPage - minMaxDistance > 1;\n      const ellipsizeEnd = this.currentPage + minMaxDistance < this.totalPages;\n\n      this.pages = [];\n\n      this.pages[0] = {\n        ellipsize: false,\n        ariaLabel: this._getAriaLabel(1),\n        text: 1\n      };\n\n      for (var i = 1; i <= loopPages - 2; i++) {\n        if (\n          ((i === 1 && ellipsizeStart) ||\n            (i === this.maxPagesShown - 2 && ellipsizeEnd)) &&\n          truncatePageNumbers\n        ) {\n          this.pages[i] = {\n            ellipsize: true,\n            text: \"...\"\n          };\n        } else {\n          let pageNumber = this.currentPage - minMaxDistance + i;\n\n          if (!ellipsizeStart) {\n            pageNumber = i + 1;\n          }\n\n          if (!ellipsizeEnd) {\n            pageNumber = this.totalPages - (this.maxPagesShown - 1) + i;\n          }\n\n          this.pages[i] = {\n            ellipsize: false,\n            ariaLabel: this._getAriaLabel(pageNumber),\n            text: pageNumber\n          };\n        }\n      }\n\n      this.pages[loopPages - 1] = {\n        ellipsize: false,\n        ariaLabel: this._getAriaLabel(this.totalPages),\n        text: this.totalPages\n      };\n    }\n\n    this.render();\n\n    this.shadowRoot\n      .querySelector(\"#previous\")\n      .addEventListener(\"click\", this.previousPage);\n    this.shadowRoot\n      .querySelector(\"#next\")\n      .addEventListener(\"click\", this.nextPage);\n\n    if (this.showPages) {\n      const pages = [...this.shadowRoot.querySelectorAll(\"a.page\")];\n      pages.forEach(page => {\n        page.addEventListener(\"click\", this._clickHandler);\n      });\n    }\n\n    if (this.showJump) {\n      const form = this.shadowRoot.querySelector(\"form\");\n      form.addEventListener(\"submit\", this._submitHandler);\n\n      const lastPage = this.shadowRoot.querySelector(\"#lastPage\");\n      lastPage.addEventListener(\"click\", this._clickHandler);\n    }\n  }\n\n  _clickHandler(event) {\n    event.preventDefault();\n    this.currentPage = event.currentTarget.getAttribute(\"page\");\n  }\n\n  _submitHandler(event) {\n    event.preventDefault();\n\n    const currentPageInput = this.shadowRoot.querySelector(\"#currentPageInput\");\n    this.currentPage = currentPageInput.value;\n  }\n\n  _getAriaLabel(page) {\n    return page === this.currentPage\n      ? `Page ${page}, Current Page`\n      : `Page ${page}`;\n  }\n}\n\nPFElement.create(PfePagination);\n\nexport default PfePagination;\n"],"names":[],"mappings":"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"}