:host {
  display: inline;
}

#container {
  display: inline-flex;
  position: relative;
  --_floating-arrow-size: var(--pf-c-popover__arrow--Width, var(--pf-global--arrow--width-lg, 1.5625rem));
}

[part="close-button"] {
  position: absolute;
  right: 0; // todo: add vars and fallback
  top: 0.625rem; // todo: add vars and fallback
}

[part="content"] {
  padding:
    var(--pf-c-popover__content--PaddingTop,
      var(--pf-global--spacer--md, 1rem))
    var(--pf-c-popover__content--PaddingRight,
      var(--pf-global--spacer--md, 1rem))
    var(--pf-c-popover__content--PaddingBottom,
      var(--pf-global--spacer--md, 1rem))
    var(--pf-c-popover__content--PaddingLeft,
      var(--pf-global--spacer--md, 1rem));
  position: relative;
  word-break: break-word;

  line-height: var(--pf-c-popover--line-height, 1.5);
  
  
  
  font-size: var(--pf-c-popover__content--FontSize,
    var(--pf-global--FontSize--sm, 0.875rem));

  color: var(--pf-c-popover__content--Color,
    var(--pf-global--Color--100, #151515));

  background-color: var(--pf-c-popover__content--BackgroundColor,
    var(--pf-global--BackgroundColor--100, #fff));
}

// select everything that is a sibling of the close button
[part="content"] > [part="close-button"] + * {
  padding-right: var(--pf-c-popover--c-button--sibling--PaddingRight, var(--pf-global--spacer--2xl, 3rem));
}

[part="header"] {
  display: flex;
  align-items: baseline;
}

[part="header-icon"] {
  color: var(--pf-c-popover__title-icon--Color, var(--pf-global--Color--100, #151515));
  margin-right: var(--pf-c-popover__title-icon--MarginRight, var(--pf-global--spacer--sm, .5rem));
}

slot[name="header"], #heading  {
  color: var(--pf-c-popover__title-text--Color, inherit);
  font-family: var(--pf-c-popover__title--FontFamily, var(--pf-global--FontFamily--heading--sans-serif, "RedHatDisplay", "Overpass", overpass, helvetica, arial, sans-serif));
  font-size: var(--pf-c-popover__title--FontSize, var(--pf-global--FontSize--md, 1rem));
  font-weight: var(--pf-global--FontWeight--normal, 400);
  line-height: var(--pf-c-popover__title--LineHeight, var(--pf-global--LineHeight--md, 1.5));
  margin-top: 0;
  margin-bottom: var(--pf-c-popover__title--MarginBottom, var(--pf-global--spacer--sm, .5rem));
}

slot[name="body"] {
  word-wrap: break-word;
}

[part="footer"] {
  margin-top: var(--pf-c-popover__footer--MarginTop, var(--pf-global--spacer--md, 1rem));
}

// trigger element
#invoker {
  display: inline-block;
  position: relative;
}

// popover & arrow placement
#popover,
#content::after {
  position: absolute;
}

// reveal popover
.open #popover {
  opacity: 1;
  z-index: 10000;
}

// arrow 
#content::after {
  background-color: var(--pf-c-popover__content--BackgroundColor,
    var(--pf-global--BackgroundColor--100, #fff));
  box-shadow: var(--pf-c-popover--BoxShadow,
    var(--pf-global--BoxShadow--lg,
    0 0.5rem 1rem 0 rgba(3, 3, 3, 0.16), 0 0 0.375rem 0 rgba(3, 3, 3, 0.08)));
  content: '';
  display: block;
  height: var(--_floating-arrow-size);
  rotate: 45deg;
  width: var(--_floating-arrow-size);
  z-index: -1;
}

// arrow placement
// LEFT
.left #content::after          { right: calc(-0.5 * var(--_floating-arrow-size)); }
.left.center #content::after   { top: calc(50% - 0.5 * var(--_floating-arrow-size)); }
.left.start #content::after    { top: var(--_floating-arrow-size); }
.left.end #content::after      { bottom: var(--_floating-arrow-size); }

// TOP
.top #content::after           { top: calc(100% - 0.5 * var(--_floating-arrow-size)); }
.top.center #content::after    { right: calc(50% - 0.5 * var(--_floating-arrow-size)); }
.top.start #content::after     { left: var(--_floating-arrow-size); }
.top.end #content::after       { right: var(--_floating-arrow-size); }

// RIGHT
.right #content::after         { right: calc(100% - 0.5 * var(--_floating-arrow-size)); }
.right.center #content::after  { top: calc(50% - 0.5 * var(--_floating-arrow-size)); }
.right.start #content::after   { top: var(--_floating-arrow-size); }
.right.end #content::after     { bottom: var(--_floating-arrow-size); }

// BOTTOM
.bottom #content::after        { bottom: calc(100% - 0.5 * var(--_floating-arrow-size)); }
.bottom.center #content::after { right: calc(50% - 0.5 * var(--_floating-arrow-size)); }
.bottom.start #content::after  { left: var(--_floating-arrow-size); }
.bottom.end #content::after    { right: var(--_floating-arrow-size); }

#popover {
  display: block;
  opacity: 0;
  // effect to apply as opacity transitions
  transition: opacity 300ms cubic-bezier(0.54, 1.5, 0.38, 1.11) 0s;
  // placement
  translate: var(--_floating-content-translate);
  
  box-shadow: var(--pf-c-popover--BoxShadow,
  var(--pf-global--BoxShadow--lg,
  0 0.5rem 1rem 0 rgba(3, 3, 3, 0.16), 0 0 0.375rem 0 rgba(3, 3, 3, 0.08)));
  max-width: calc(100vw - 10px);
  width: max-content;
  top: 0;
  left: 0;
  
  max-width: var(--pf-c-popover--MaxWidth, 18.75rem);

}





