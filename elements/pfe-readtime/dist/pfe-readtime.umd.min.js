!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min"],t):(e=e||self).PfeReadtime=t(e.PFElement)}(this,function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,n)}var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function a(e){switch(e){case"en":case"ko":return 228;case"zh":return 158;case"fr":return 195;case"ja":return 193;case"de":return 179;case"it":return 188;case"pt-br":return 181;case"es":return 218;default:return 228}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,e),n(u,[{key:"html",get:function(){return'\n<style>:host{font-size:1rem;font-size:var(--pfe-readtime--FontSize,var(--pf-global--FontSize--md,1rem))}:host([hidden]){display:none} /*# sourceMappingURL=pfe-readtime.min.css.map */</style>\n<span class="pfe-readtime__text">'+this.readString+"</span>"}},{key:"templateUrl",get:function(){return"pfe-readtime.html"}},{key:"styleUrl",get:function(){return"pfe-readtime.scss"}},{key:"readtime",get:function(){return Math.floor(this.wordCount/this.wpm)||0}},{key:"readString",get:function(){if(!(this.readtime<=0))return this.removeAttribute("hidden"),this.templateString&&this.templateString.match(/%t/)?this.templateString.replace("%t",this.readtime):""+this.readtime+this.templateString;this.setAttribute("hidden","")}}],[{key:"version",get:function(){return"1.6.0"}},{key:"tag",get:function(){return"pfe-readtime"}},{key:"meta",get:function(){return{title:"Readtime",description:"This element will collect a word count on a given section and calculate the readtime based on that count."}}},{key:"PfeType",get:function(){return e.PfeTypes.Content}},{key:"properties",get:function(){return{wpm:{title:"Words per minute",type:Number,default:function(e){return a(e._lang)},observer:"render"},wordCount:{title:"Number of words in the content",type:Number,default:0,observer:"render"},templateString:{title:"Template for printing the readtime",description:"Translatable string for printing out the readtime in a readable format. Use %t as a stand-in for the calculated value.",attr:"template",type:String,default:function(e){return e.textContent.trim()||"%t-minute readtime"},observer:"render"},_lang:{title:"Language of content",type:String,attr:"lang",enum:["en","ko","zh","fr","ja","de","it","pt-br","es"],default:function(){return document.documentElement.lang||"en"},observer:"_langChangedHandler"},for:{title:"Element containing content",type:String,observer:"_forChangeHandler"}}}}]),n(u,[{key:"connectedCallback",value:function(){o(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"connectedCallback",this).call(this),this.render()}},{key:"_forChangeHandler",value:function(e,t){t===e||(e=document.querySelector(t)||document.querySelector("#"+t))&&((this.content=e).hasAttribute("word-count")?(t=e.getAttribute("word-count"),0<=Number(t)&&(this.wordCount=Number(t))):e.textContent.trim()&&(this.wordCount=e.textContent.split(/\b\w+\b/).length),this.render())}},{key:"_langChangedHandler",value:function(e,t){t!==e&&(this.wpm=a(t),this.render())}}]),n=u;function u(){t(this,u);var e=i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,{type:u.PfeType,delayRender:!0}));return e._forChangeHandler=e._forChangeHandler.bind(e),e._langChangedHandler=e._langChangedHandler.bind(e),e}return e.create(n),n});
//# sourceMappingURL=pfe-readtime.umd.min.js.map
