!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("../rhelement/rhelement.umd")):"function"==typeof define&&define.amd?define(["../rhelement/rhelement.umd"],e):e(t.RHElement)}(this,function(r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;var a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),o=function t(e,r,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,r);if(void 0===a){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},e=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)};Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],a=0;a<r;){var i=e[a];if(t.call(n,i,a,e))return i;a++}},configurable:!0,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],a=0;a<r;){var i=e[a];if(t.call(n,i,a,e))return a;a++}return-1},configurable:!0,writable:!0});var c=40,h=37,d=39,u=38,b=36,f=35;function n(){return Math.random().toString(36).substr(2,9)}var t=function(t){function n(){a(this,n);var t=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n));return t._linked=!1,t._onSlotChange=t._onSlotChange.bind(t),t._tabSlot=t.shadowRoot.querySelector('slot[name="tab"]'),t._panelSlot=t.shadowRoot.querySelector('slot[name="panel"]'),t._tabSlot.addEventListener("slotchange",t._onSlotChange),t._panelSlot.addEventListener("slotchange",t._onSlotChange),t}return s(n,r),i(n,[{key:"html",get:function(){return'\n<style>\n:host {\n  display: block; }\n\n.tabs {\n  --rh-tabs--border-color:          var(--rh-theme--color--surface--border, #dfdfdf);\n  display: flex;\n  border: 0;\n  border-bottom: var(--rh-theme--ui--border-width, 1px) var(--rh-theme--ui--border-style, solid) var(--rh-tabs--border-color); }\n\n.panels {\n  padding: 0;\n  padding-top: var(--rh-theme--container-padding, 1rem); }\n\n:host([vertical]) {\n  display: flex; }\n\n:host([vertical]) .tabs {\n  flex-direction: column;\n  width: 25%;\n  border: 0;\n  border-right: var(--rh-theme--ui--border-width, 1px) var(--rh-theme--ui--border-style, solid) var(--rh-tabs--border-color); }\n\n:host([vertical]) .tabs ::slotted(rh-tab) {\n  margin: 0 -1px 0 0;\n  border: var(--rh-theme--ui--border-width, 1px) var(--rh-theme--ui--border-style, solid) transparent;\n  border-right: 0;\n  position: relative; }\n\n:host([vertical]) .tabs ::slotted(rh-tab[aria-selected="true"]) {\n  border-color: var(--rh-tabs--border-color);\n  border-right: 0; }\n\n:host([vertical]) .panels {\n  padding: 0;\n  padding-right: var(--rh-theme--container-padding, 1rem);\n  padding-left: calc(var(--rh-theme--container-padding, 1rem) * 2); }\n\n:host([rh-variant="primary"]) .tabs {\n  border-bottom: transparent;\n  border-right: transparent;\n  justify-content: space-between; }\n\n:host([vertical][rh-variant="primary"]) {\n  align-items: flex-start; }\n\n:host([rh-variant="secondary"]) .tabs {\n  border-bottom: transparent;\n  justify-content: space-between; }\n\n:host([vertical][rh-variant="secondary"]) .tabs {\n  justify-content: flex-start; }\n</style>\n<div class="tabs">\n  <slot name="tab"></slot>\n</div>\n<div class="panels">\n  <slot name="panel"></slot>\n</div>'}},{key:"styleUrl",get:function(){return"rh-tabs.scss"}},{key:"templateUrl",get:function(){return"rh-tabs.html"}},{key:"selectedIndex",get:function(){return this.getAttribute("selected-index")},set:function(t){this.setAttribute("selected-index",t)}}],[{key:"tag",get:function(){return"rh-tabs"}},{key:"observedAttributes",get:function(){return["vertical","selected-index","rh-variant"]}}]),i(n,[{key:"connectedCallback",value:function(){var t=this;o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"connectedCallback",this).call(this),this.addEventListener("keydown",this._onKeyDown),this.addEventListener("click",this._onClick),this.hasAttribute("role")||this.setAttribute("role","tablist"),this.hasAttribute("selected-index")||(this.selectedIndex=0),Promise.all([customElements.whenDefined(p.tag),customElements.whenDefined(v.tag)]).then(function(){return t._linkPanels()})}},{key:"disconnectedCallback",value:function(){this.removeEventListener("keydown",this._onKeyDown),this.removeEventListener("click",this._onClick)}},{key:"attributeChangedCallback",value:function(t,e,r){var n=this;switch(t){case"rh-variant":"primary"===this.getAttribute("rh-variant")?this._allTabs().forEach(function(t){return t.setAttribute("rh-variant","primary")}):"secondary"===this.getAttribute("rh-variant")&&this._allTabs().forEach(function(t){return t.setAttribute("rh-variant","secondary")});break;case"vertical":this.hasAttribute("vertical")?(this.setAttribute("aria-orientation","vertical"),this._allPanels().forEach(function(t){return t.setAttribute("vertical","")}),this._allTabs().forEach(function(t){return t.setAttribute("vertical","")})):(this.removeAttribute("aria-orientation"),this._allPanels().forEach(function(t){return t.removeAttribute("vertical")}),this._allTabs().forEach(function(t){return t.removeAttribute("vertical")}));break;case"selected-index":Promise.all([customElements.whenDefined(p.tag),customElements.whenDefined(v.tag)]).then(function(){n._linkPanels(),n.selectIndex(r)})}}},{key:"select",value:function(t){t&&("rh-tab"===t.tagName.toLowerCase()?this.selectedIndex=this._getTabIndex(t):console.warn(n.tag+": the tab must be a rh-tab element"))}},{key:"selectIndex",value:function(t){if(void 0!==t){var e=parseInt(t,10),r=this._allTabs()[e];r?this._selectTab(r):console.warn(n.tag+": tab "+t+" does not exist")}}},{key:"_onSlotChange",value:function(){this._linked=!1,this._linkPanels()}},{key:"_linkPanels",value:function(){this._linked||(this._allTabs().forEach(function(t){var e=t.nextElementSibling;"rh-tab-panel"===e.tagName.toLowerCase()?(t.setAttribute("aria-controls",e.id),e.setAttribute("aria-labelledby",t.id)):console.warn(n.tag+": tab #"+t.id+" is not a sibling of a <rh-tab-panel>")}),this._linked=!0)}},{key:"_allPanels",value:function(){return[].concat(e(this.querySelectorAll("rh-tab-panel")))}},{key:"_allTabs",value:function(){return[].concat(e(this.querySelectorAll("rh-tab")))}},{key:"_panelForTab",value:function(t){var e=t.getAttribute("aria-controls");return this.querySelector("#"+e)}},{key:"_prevTab",value:function(){var t=this._allTabs(),e=t.findIndex(function(t){return t.selected})-1;return t[(e+t.length)%t.length]}},{key:"_firstTab",value:function(){return this._allTabs()[0]}},{key:"_lastTab",value:function(){var t=this._allTabs();return t[t.length-1]}},{key:"_nextTab",value:function(){var t=this._allTabs(),e=t.findIndex(function(t){return t.selected})+1;return t[e%t.length]}},{key:"_getTabIndex",value:function(e){return this._allTabs().findIndex(function(t){return t.id===e.id})}},{key:"reset",value:function(){var t=this._allTabs(),e=this._allPanels();t.forEach(function(t){return t.selected=!1}),e.forEach(function(t){return t.hidden=!0})}},{key:"_selectTab",value:function(t){this.reset();var e=this._panelForTab(t),r=!1;if(!e)throw new Error("No panel with id "+e.id);this.selected&&this.selected!==t&&(r=!0,this.dispatchEvent(new CustomEvent(n.tag+":hidden-tab",{bubbles:!0,detail:{tab:this.selected}}))),t.selected=!0,e.hidden=!1,this._setFocus&&(t.focus(),this._setFocus=!1);this._allTabs().findIndex(function(t){return t.selected});this.selected=t,r&&this.dispatchEvent(new CustomEvent(n.tag+":shown-tab",{bubbles:!0,detail:{tab:this.selected}}))}},{key:"_onKeyDown",value:function(t){if("tab"===t.target.getAttribute("role")&&!t.altKey){var e=void 0;switch(t.keyCode){case h:case u:e=this._prevTab();break;case d:case c:e=this._nextTab();break;case b:e=this._firstTab();break;case f:e=this._lastTab();break;default:return}t.preventDefault(),this.selectedIndex=this._getTabIndex(e),this._setFocus=!0}}},{key:"_onClick",value:function(t){"tab"===t.target.getAttribute("role")&&(this.selectedIndex=this._getTabIndex(t.target))}}]),n}(),p=function(t){function e(){a(this,e);var t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e));return t.id||(t.id=e.tag+"-"+n()),t}return s(e,r),i(e,[{key:"html",get:function(){return'\n<style>\n:host {\n  --rh-tabs--main:         transparent;\n  --rh-tabs--aux:          var(--rh-theme--color--surface--lightest--text, #333);\n  --rh-tabs--link:         var(--rh-theme--color--surface--lightest--link, #06c);\n  --rh-tabs--focus:        var(--rh-theme--color--surface--lightest--link--focus, #003366);\n  position: relative;\n  display: block;\n  margin: 0 0 -1px;\n  padding-top: var(--rh-theme--container-padding, 1rem);\n  padding-right: calc(var(--rh-theme--container-padding, 1rem) * 3.375);\n  padding-bottom: calc(var(--rh-theme--container-padding, 1rem) * 1.5);\n  padding-left: var(--rh-theme--container-padding, 1rem);\n  border: var(--rh-theme--ui--border-width, 1px) var(--rh-theme--ui--border-style, solid) transparent;\n  border-bottom: 0;\n  background-color: var(--rh-tabs--main);\n  color: var(--rh-tabs--aux);\n  text-transform: var(--rh-tabs__tab--TextTransform, none);\n  font-weight: var(--rh-theme--font-weight--normal, 500);\n  white-space: nowrap;\n  cursor: pointer; }\n\n:host([aria-selected="true"]) {\n  --rh-tabs--main:         var(--rh-theme--color--surface--lightest, #fff);\n  border-color: var(--rh-theme--color--surface--border, #dfdfdf);\n  border-bottom: 0; }\n\n.indicator {\n  position: absolute;\n  bottom: 12px;\n  left: auto;\n  display: var(--rh-tabs__indicator--Display, block);\n  height: var(--rh-tabs__indicator--Height, 4px);\n  width: var(--rh-tabs__indicator--Width, 22px);\n  background-color: var(--rh-theme--color--surface--border--darkest, #464646); }\n\n:host(:hover) .indicator {\n  background-color: var(--rh-tabs--link); }\n\n:host([aria-selected="true"]) .indicator,\n:host([aria-selected="true"]:hover) .indicator {\n  background-color: var(--rh-tabs--link); }\n\n:host(:focus),\n:host(:focus-visible) {\n  outline: var(--rh-theme--ui--focus-outline-width, 1px) var(--rh-theme--ui--focus-outline-style, solid) var(--rh-tabs--focus); }\n\n:host([rh-variant="primary"]) {\n  text-align: center;\n  padding: 0 calc(var(--rh-theme--container-padding, 1rem) / 3) var(--rh-theme--container-padding, 1rem); }\n  :host([rh-variant="primary"]) .indicator {\n    width: 100%;\n    left: 0; }\n\n:host([rh-variant="primary"][aria-selected="true"]) {\n  border: transparent; }\n\n:host([rh-variant="primary"][aria-selected="false"]) {\n  border: transparent; }\n  :host([rh-variant="primary"][aria-selected="false"]) .indicator {\n    display: none; }\n\n:host([rh-variant="secondary"]) {\n  text-align: center;\n  padding: calc(var(--rh-theme--container-padding, 1rem) * .666) calc(var(--rh-theme--container-padding, 1rem) * 2.75);\n  border: 1px solid #252527; }\n  :host([rh-variant="secondary"]) .indicator {\n    display: none; }\n\n:host([rh-variant="secondary"][aria-selected="true"]) {\n  background-color: #252527;\n  color: #ffffff; }\n  :host([rh-variant="secondary"][aria-selected="true"]) .indicator {\n    display: block;\n    bottom: -33%;\n    width: 0;\n    height: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    border-left: var(--rh-theme--container-spacer, 1rem) solid transparent;\n    border-right: var(--rh-theme--container-spacer, 1rem) solid transparent;\n    border-top: var(--rh-theme--container-spacer, 1rem) solid #252527;\n    background-color: transparent; }\n\n:host([rh-variant="secondary"][aria-selected="false"]) {\n  color: #0477a4; }\n\n:host([rh-variant="secondary"]:hover) {\n  background-color: #252527;\n  color: #ffffff; }\n\n:host([vertical][rh-variant="primary"]) {\n  text-align: right;\n  padding-right: var(--rh-theme--container-padding, 1rem); }\n  :host([vertical][rh-variant="primary"]) .indicator {\n    left: auto;\n    right: 0;\n    top: 0;\n    display: var(--rh-tabs__indicator--Display, block);\n    height: var(--rh-tabs__indicator--Height, 22px);\n    width: var(--rh-tabs__indicator--Width, 4px); }\n\n:host([vertical][rh-variant="primary"][aria-selected="true"]) {\n  border: transparent !important; }\n\n:host([vertical][rh-variant="secondary"][aria-selected="true"]) .indicator {\n  left: 99%;\n  top: 50%;\n  transform: translateY(-50%);\n  border-top: var(--rh-theme--container-spacer, 1rem) solid transparent;\n  border-left: var(--rh-theme--container-spacer, 1rem) solid #252527;\n  border-bottom: var(--rh-theme--container-spacer, 1rem) solid transparent;\n  background-color: transparent; }\n\n:host ::slotted(h2) {\n  font-size: var(--rh-theme--font-size);\n  font-weight: var(--rh-theme--font-weight--normal, 500);\n  margin: 0; }\n</style>\n<slot></slot>\n<div class="indicator"></div>'}},{key:"styleUrl",get:function(){return"rh-tab.scss"}},{key:"templateUrl",get:function(){return"rh-tab.html"}}],[{key:"tag",get:function(){return"rh-tab"}},{key:"observedAttributes",get:function(){return["aria-selected"]}}]),i(e,[{key:"connectedCallback",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),this.setAttribute("role","tab"),this.setAttribute("aria-selected","false"),this.setAttribute("tabindex",-1),this.parentNode.hasAttribute("vertical")&&this.setAttribute("vertical","")}},{key:"attributeChangedCallback",value:function(){var t=Boolean(this.selected);this.setAttribute("tabindex",t?0:-1)}},{key:"selected",set:function(t){t=Boolean(t),this.setAttribute("aria-selected",t)},get:function(){return"true"===this.getAttribute("aria-selected")}}]),e}(),v=function(t){function e(){a(this,e);var t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e));return t.id||(t.id=e.tag+"-"+n()),t}return s(e,r),i(e,[{key:"html",get:function(){return"\n<style>\n:host {\n  display: block; }\n\n:host([hidden]) {\n  display: none; }\n</style>\n<slot></slot>"}},{key:"styleUrl",get:function(){return"rh-tab-panel.scss"}},{key:"templateUrl",get:function(){return"rh-tab-panel.html"}}],[{key:"tag",get:function(){return"rh-tab-panel"}}]),i(e,[{key:"connectedCallback",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),this.setAttribute("role","tabpanel"),this.setAttribute("tabindex",0)}}]),e}();r.create(p),r.create(v),r.create(t)});
//# sourceMappingURL=rh-tabs.umd.js.map
